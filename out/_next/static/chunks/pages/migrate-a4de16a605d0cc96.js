(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6722],{12645:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/migrate",function(){return n(53285)}])},71751:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrowDown.7102bf2c.svg",height:24,width:24}},53285:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Te}});var r=n(34051),a=n.n(r),o=n(85893),i=n(45697),l=n.n(i),s=n(67294),c=n(70794),d=(n(42523),n(92170)),u=n(16110),m=n(62210),x=n(8292),f=n(75528),p=n(93213),h=n(11802),v=n(12619),b=n(52767),g=n(21915),w=n(63139),j=n(32795),y=n(15227),N=n(85518),k=n(86010),S=n(66850),O=n(81870),C=n(31493),E=n(62668),P=n(91487),T=n(56648),A=n(23363),L=n(25876),D=[{name:"WRAP",image:n(21886).Z,new:!1,chainType:"TEZOS",address:"KT1LRboPna9yQY9BrjtQYDS1DVxhKESK4VVd"},{name:"KODEX",image:L.Z,new:!1,chainType:"TEZOS",address:"KT1GRSvLoikDsXujKgZPsGLX8k8VvR2Tq95b"}],I=n(3556),B=n(87547),Y=n(25675),Z=n.n(Y),R=n(34362);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}var X=function(e){var t=(0,s.useState)(""),n=t[0],r=t[1],a=(0,s.useRef)(null),i=(0,s.useState)([]),l=i[0],d=i[1],u=(0,s.useCallback)((function(e){var t;return 0===n.length||e.name.trim().toLowerCase().includes(n.trim().toLowerCase())||(null===(t=e.address)||void 0===t?void 0:t.toLowerCase().includes(n.trim().toLowerCase()))||"xtz"===n.toLowerCase()&&e.name.toLowerCase().search(/\btez\b/)>=0}),[n]);return(0,s.useEffect)((function(){e.tokens.sort((function(t,n){return Number(e.allBalance[n.name])-Number(e.allBalance[t.name])}));!function(){var t=e.tokens.filter(u).map((function(e){return K({},e)}));d(t)}()}),[e.tokens,n,e.tokenIn.name,u]),e.show?(0,o.jsx)(I.H,{title:"Select token",onhide:function(){return e.onhide(!1)},children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mt-5",children:(0,o.jsx)(B.Z,{inputRef:a,value:n,onChange:function(e){return r(e.target.value)}})}),0===Object.keys(l).length?(0,o.jsx)("div",{className:"border h-[117px] border-text-800 bg-muted-200 rounded-xl flex justify-center items-center px-[18px] w-full pb-5 mt-5 font-body4 text-white",children:"No Tokens found"}):(0,o.jsx)("div",{id:"tokensList",className:"border relative max-h-[117px] h-[117px] modal border-text-800 bg-muted-200 rounded-xl w-full pb-5 mt-5",children:l.map((function(t,n){return(0,o.jsxs)("div",K({className:(0,k.default)(" flex content-center  px-[18px] hover:bg-card-100 py-2",e.tokenIn.name===t.name?"cursor-not-allowed":"cursor-pointer")},e.tokenIn.name===t.name?{}:{onClick:function(){return e.selectToken(t)}},{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("span",{className:"w-[30px] h-[30px] relative top-1",children:[(0,o.jsx)(Z(),{alt:"alt",src:t.image,width:"30px",height:"30px"})," "]})}),(0,o.jsxs)("div",{className:"ml-2",children:[(0,o.jsx)("div",{className:"font-body1 text-text-100/[0.2]",children:t.chainType}),(0,o.jsx)("div",{className:(0,k.default)("font-subtitle4 ",e.tokenIn.name===t.name?"text-white/[0.1]":"text-white"),children:(0,R.Xf)(t.name)})]}),t.new&&(0,o.jsx)("div",{className:"ml-auto mt-[6px] bg-primary-red/[0.2] py-1 px-1.5 h-[26px] text-center text-primary-white font-body2 rounded-xl",children:(0,o.jsx)("span",{children:"New!"})}),e.isSuccess&&e.allBalance[t.name]?(0,o.jsx)("div",{className:"font-subtitle4 cursor-pointer ml-auto mt-[7px]",children:(0,o.jsx)(A.eE,{position:A.Ly.top,message:e.allBalance[t.name]?(0,S.Z)(e.allBalance[t.name].toString()):"0",disable:0===Number(e.allBalance[t.name]),children:e.allBalance[t.name]&&Number(e.allBalance[t.name])>0?new c.O(e.allBalance[t.name]).isLessThan(.01)?"<0.01":(0,R.ZP)(new c.O(e.allBalance[t.name])):"0.0"})}):!1===e.isSuccess?(0,o.jsx)("div",{className:"font-subtitle4 ml-auto mt-[7px]",children:" 0"}):(0,o.jsx)("div",{className:" ml-auto h-[19px] rounded animate-pulse bg-shimmer-100 text-shimmer-100 mt-[7px]",children:"9999"})]}),n)}))})]})}):null},G={src:"/_next/static/media/exchange.728fbac3.svg",height:20,width:20},q=n(34211);var M=function(e){var t,n,r=function(){e.setShow(!1)};return e.show?(0,o.jsx)(I.H,{onhide:r,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"cursor-pointer",onClick:r,children:(0,o.jsx)(Z(),{alt:"alt",src:q.Z})}),(0,o.jsxs)("div",{className:"mx-2 text-white font-title3",children:["Migrate ",e.tokenIn]})]}),(0,o.jsxs)("div",{className:"border border-text-800 bg-card-200 py-4 mt-3 rounded-2xl",children:[(0,o.jsx)("div",{className:"flex mt-[2px] items-center px-4 ",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-text-400 font-body1",children:"You will receive "}),(0,o.jsxs)("span",{className:"font-title2 text-white mt-1",children:[null===(t=e.exchangeRes.claimableAmount)||void 0===t?void 0:t.decimalPlaces(6,1).toString()," PLY"]})]})}),(0,o.jsxs)("div",{className:"md:font-body3 font-body1 h-[50px] flex items-center bg-card-500 border-t border-b border-text-800/[0.5] px-5 mt-4",children:[(0,o.jsxs)("span",{className:"md:font-subtitle4 font-caption2 mr-1",children:[null===(n=e.exchangeRes.vestedAmount)||void 0===n?void 0:n.toFixed(2)," PLY"]})," ","will be vested for upto 05-Jan-2025"," "]})]}),(0,o.jsx)("div",{className:"mt-[16px]",children:(0,o.jsx)(O.Z,{color:"primary",onClick:e.handleClick,children:"Confirm"})})]})}):null},V=n(9133),F=n(58609),H=n(26041);function W(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,a)}var z=function(){var e,t=(e=a().mark((function e(t){var n,r,o,i,l,s,d,u,m,x,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,F.zG)(V.Yh);case 3:return n=e.sent,r=n.data,o=r.ledger,e.next=8,(0,F.VK)(o,"key=".concat(t,"&select=key,value"));case 8:return i=e.sent,l=i.data[0].value,s=new Date(l.last_claim),l.last_claim=Math.floor(s.getTime()/1e3),d=c.O.min(new c.O(l.balance),new c.O(l.release_rate).multipliedBy(new c.O(Math.floor(Date.now()/1e3)).minus(new c.O(l.last_claim)))),u=d.plus(new c.O(l.vested)).dividedBy(w.yv),m=new c.O(new c.O(l.balance).minus(d)).dividedBy(w.yv),x=Math.floor(Date.now()/1e3)-l.last_claim>w.x4,f=new c.O(l.last_claim),p=new c.O(f).plus(w.x4),e.abrupt("return",{success:!0,isClaimable:x,claimableAmount:u,vestedAmount:m,lastClaim:f.multipliedBy(1e3),nextClaim:p.multipliedBy(1e3)});case 21:return e.prev=21,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{success:!1,isClaimable:!1,claimableAmount:new c.O(0),vestedAmount:new c.O(0),lastClaim:new c.O(0),nextClaim:new c.O(0)});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,l,"next",e)}function l(e){W(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),U=n(4126),J=n(23581),$=n(37837),Q=n(11693),ee=n(80900);function te(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){te(o,r,a,i,l,"next",e)}function l(e){te(o,r,a,i,l,"throw",e)}i(void 0)}))}}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}var oe=function(){var e=ne(a().mark((function e(t,n,r,o){var i,l,s,d,u,x,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,V.vu)().CheckIfWalletConnected,e.next=4,i();case 4:if(e.sent.success){e.next=7;break}throw new Error("Wallet connection failed");case 7:return e.next=9,(0,V.vu)().tezos();case 9:return l=e.sent,e.next=12,l.wallet.at(V.Yh);case 12:return s=e.sent,e.next=15,l.estimate.transfer(s.methods.claim([["unit"]]).toTransferParams()).then((function(e){return e})).catch((function(e){console.log(e)}));case 15:if(d=e.sent,u=0,x=0,void 0===d){e.next=22;break}u=new c.O(d.gasLimit).plus(new c.O(d.gasLimit).multipliedBy(w.cZ)).decimalPlaces(0,1).toNumber(),x=new c.O(d.storageLimit).plus(new c.O(d.storageLimit).multipliedBy(w.hJ)).decimalPlaces(0,1).toNumber(),e.next=23;break;case 22:throw new Error("Failed to estimate transaction limits");case 23:return e.next=25,s.methods.claim([["unit"]]).send({gasLimit:u,storageLimit:x});case 25:return f=e.sent,r(!1),n(),t(f.opHash),o&&m.h.dispatch((0,$.XV)(o)),e.next=32,f.confirmation(1);case 32:return e.next=34,f.status();case 34:if("applied"!==(p=e.sent)){e.next=39;break}return e.abrupt("return",{success:!0,operationId:f.opHash});case 39:throw new Error(p);case 40:e.next=46;break;case 42:return e.prev=42,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,operationId:void 0,error:e.t0.message});case 46:case"end":return e.stop()}}),e,null,[[0,42]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ie=function(){var e=ne(a().mark((function e(t,n,r,o,i,l,s){var d,u,x,f,p,h,v,b,g,w,j,y,N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d=(0,V.vu)().CheckIfWalletConnected,e.next=4,d();case 4:if(e.sent.success){e.next=7;break}throw new Error("Wallet connection failed");case 7:return e.next=9,(0,V.vu)().tezos();case 9:return u=e.sent,e.next=12,u.wallet.at(V.Yh);case 12:if(x=e.sent,f=m.h.getState(),p=f.config.tokens,h=new c.O(10).pow(H.Z.EXCHANGE_TOKENS[t].tokenDecimals),v=[],t!==U.kc.KODEX){e.next=25;break}return e.next=20,u.wallet.at(p[t].address);case 20:b=e.sent,v.push(ae({kind:Q.OpKind.TRANSACTION},b.methods.approve(V.Yh,n.multipliedBy(h).decimalPlaces(0,1)).toTransferParams())),v.push(ae({kind:Q.OpKind.TRANSACTION},x.methods.exchange(H.Z.EXCHANGE_TOKENS[t].contractEnumValue,n.multipliedBy(h).decimalPlaces(0,1)).toTransferParams())),e.next=31;break;case 25:return e.next=27,u.wallet.at(p[t].address);case 27:g=e.sent,v.push(ae({kind:Q.OpKind.TRANSACTION},g.methods.update_operators([{add_operator:{owner:r,operator:V.Yh,token_id:0}}]).toTransferParams())),v.push(ae({kind:Q.OpKind.TRANSACTION},x.methods.exchange(H.Z.EXCHANGE_TOKENS[t].contractEnumValue,n.multipliedBy(h).decimalPlaces(0,1)).toTransferParams())),v.push(ae({kind:Q.OpKind.TRANSACTION},g.methods.update_operators([{remove_operator:{owner:r,operator:V.Yh,token_id:0}}]).toTransferParams()));case 31:return e.next=33,(0,ee.lI)(v);case 33:return w=e.sent,j=u.wallet.batch(w),e.next=37,j.send();case 37:return y=e.sent,l(!1),i(),o(y.opHash),s&&m.h.dispatch((0,$.XV)(s)),e.next=44,y.confirmation(1);case 44:return e.next=46,y.status();case 46:if("applied"!==(N=e.sent)){e.next=51;break}return e.abrupt("return",{success:!0,operationId:y.opHash});case 51:throw new Error(N);case 52:e.next=58;break;case 54:return e.prev=54,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{success:!1,operationId:void 0,error:e.t0.message});case 58:case"end":return e.stop()}}),e,null,[[0,54]])})));return function(t,n,r,a,o,i,l){return e.apply(this,arguments)}}(),le=n(89532),se=n(67445);var ce=function(e){var t,n=(0,s.useState)(""),r=n[0],a=n[1],i=(0,s.useState)(""),l=i[0],d=i[1],f=(0,s.useState)(!1),p=(f[0],f[1]),h=(0,m.CG)((function(e){return e.wallet.address})),v=(0,s.useState)(!1),b=v[0],g=v[1],w=(0,s.useState)(""),j=w[0],y=w[1],N=function(e){y(e),B(!0)},L=(0,s.useState)(!1),I=L[0],B=L[1],Y=(0,s.useState)({name:D[1].name,image:D[1].image}),_=Y[0],K=Y[1],q=(0,s.useState)({name:"PLY",image:E.Z}),F=q[0],W=(q[1],(0,u.I0)()),z=function(){return W((0,x.A$)())};(0,s.useEffect)((function(){""!==r&&me(r)}),[_.name]);var Q=(0,s.useState)(!1),ee=Q[0],te=Q[1],ne=(0,s.useState)(!1),re=ne[0],ae=ne[1],oe=(0,s.useMemo)((function(){return h?""===r||0===Number(r)?(0,o.jsx)(O.Z,{color:"disabled",width:"w-full",children:"Enter an amount"}):new c.O(r).isGreaterThan(e.allBalance[_.name])?(0,o.jsx)(O.Z,{color:"disabled",width:"w-full",children:"Insufficient balance"}):(0,o.jsx)(O.Z,{color:"primary",width:"w-full",onClick:function(){return ae(!0)},children:"Migrate"}):(0,o.jsx)(O.Z,{color:"primary",onClick:z,width:"w-full",children:"Connect wallet"})}),[r,e.allBalance.allTokensBalances,_]),ce=(0,s.useState)({}),de=ce[0],ue=ce[1],me=function(e){if("."!=e)if(""===e||isNaN(Number(e)))a(""),d(""),ue({});else{a(e.toString().trim());var t=function(e,t){try{var n=m.h.getState().config.tokens,r=H.Z.EXCHANGE_TOKENS[t]?new c.O(H.Z.EXCHANGE_TOKENS[t].exchangeRate):new c.O(0),a=e.multipliedBy(r).decimalPlaces(n.PLY.decimals,1);return{success:!0,claimableAmount:a.dividedBy(2).decimalPlaces(n.PLY.decimals,1),vestedAmount:a.dividedBy(2).decimalPlaces(n.PLY.decimals,1),exchangeRate:r}}catch(o){return console.log(o),{success:!1,claimableAmount:new c.O(0),vestedAmount:new c.O(0),exchangeRate:new c.O(0)}}}(new c.O(e),"KODEX"===_.name?U.kc.KODEX:U.kc.WRAP);ue(t),d(t.claimableAmount.decimalPlaces(6,1).toString())}else a("0.")},xe=(0,s.useState)(!1),fe=xe[0],pe=xe[1],he=((0,m.CG)((function(e){return e.tokenPrice.tokenPrice})),(0,s.useState)("")),ve=he[0],be=(he[1],function(){a(""),d(""),ue({})});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"lg:w-640 md:mx-auto mt-[36px]",children:(0,o.jsxs)("div",{className:"flex border border-text-800 bg-card-500 h-[48px] items-center px-3 md:rounded-2xl gap-1 md:gap-2.5 md:w-[460px]",children:[(0,o.jsx)(Z(),{src:G}),(0,o.jsx)("span",{className:"font-body1",children:"Exchange rate:"}),(0,o.jsxs)("span",{className:"md:font-body4 font-body2",children:["1 WRAP = ",H.Z.EXCHANGE_TOKENS.WRAP.exchangeRate," PLY"]}),(0,o.jsx)("span",{className:"border-r border-text-250 h-[18px] w-px"}),(0,o.jsxs)("span",{className:"md:font-body4 font-body2",children:["1 KODEX = ",H.Z.EXCHANGE_TOKENS.KODEX.exchangeRate," PLY"]})]})}),(0,o.jsxs)("div",{className:(0,k.default)("bg-card-500 md:border border-y border-text-800 mt-[16px]  md:rounded-3xl  text-white lg:w-640 pt-[24px] pb-2 mx-auto fade-in"),children:[(0,o.jsxs)("div",{className:(0,k.default)("lg:w-580  h-[102px] border bg-muted-200/[0.1]  mx-5 lg:mx-[30px] rounded-2xl px-4 hover:border-text-700",(new c.O(r).isGreaterThan(e.allBalance[_.name])||""!==ve)&&"border-errorBorder hover:border-errorBorder bg-errorBg",fe?"border-text-700":"border-text-800 "),children:[(0,o.jsxs)("div",{className:"flex ",children:[(0,o.jsx)("div",{className:(0,k.default)(" mt-4","flex-none"),children:(0,o.jsx)(C.Z,{onClick:function(){return p(!1),void te(!0)},tokenIcon:_.image,tokenName:_.name,tokenSymbol:_.name})}),(0,o.jsxs)("div",{className:"flex-auto my-3 ml-2 ",children:[(0,o.jsx)("div",{className:"text-right font-body1 text-text-400 ",children:"YOU PAY"}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"text",className:(0,k.default)("text-white bg-card-500 text-right border-0 font-medium2  lg:font-medium1 outline-none w-[100%] placeholder:text-text-500"),placeholder:"0.0",onChange:function(e){return me(e.target.value)},value:r,onFocus:function(){return pe(!0)},onBlur:function(){return pe(!1)}})})]})]}),(0,o.jsx)("div",{className:"flex -mt-[20px]",children:(0,o.jsxs)("div",{className:"text-left cursor-pointer",onClick:function(){d(""),me(e.allBalance[_.name])},children:[(0,o.jsx)("span",{className:"text-text-600 font-body3",children:"Balance:"})," ",(0,o.jsx)("span",{className:"font-body4 cursor-pointer text-primary-white ",children:Number(e.allBalance[_.name])>=0?(0,o.jsx)(A.eE,{message:(0,S.Z)(e.allBalance[_.name].toString()),disable:!(Number(e.allBalance[_.name])>0),id:"tooltip8",position:A.Ly.right,children:Number(e.allBalance[_.name])>0?null===(t=Number(e.allBalance[_.name]))||void 0===t?void 0:t.toFixed(4):0}):"--"})]})})]}),""!==ve&&(0,o.jsx)("div",{className:"mt-3 mx-5 lg:mr-[30px] lg:ml-[50px] font-body2 lg:font-body3 text-error-500",children:ve}),(0,o.jsxs)("div",{className:" pt-[24px] mt-[24px] pb-5 border border-primary-500/[0.2] mx-px md:mx-2 lg:mx-2 px-5 lg:px-[22px] rounded-3xl bg-primary-red/[0.04]",children:[(0,o.jsxs)("div",{className:(0,k.default)("lg:w-580 secondtoken h-[102px] border border-text-800 rounded-2xl  px-4 border-primary-500/[0.2] hover:border-primary-500/[0.6] bg-card-500 hover:bg-primary-red/[0.02]"),children:[(0,o.jsxs)("div",{className:" flex ",children:[(0,o.jsx)("div",{className:(0,k.default)(" mt-4","flex-none"),children:(0,o.jsx)(C.Z,{tokenIcon:F.image,tokenName:F.name,isArrow:!0,tokenSymbol:F.name})}),(0,o.jsxs)("div",{className:" my-3 flex-auto ml-2",children:[(0,o.jsx)("div",{className:"text-right font-body1 text-text-400 ",children:"YOU RECEIVE"}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"text",className:(0,k.default)("text-primary-white  inputSecond text-right border-0 font-input-text lg:font-medium1 outline-none w-[100%] placeholder:text-primary-white cursor-not-allowed"),disabled:!0,placeholder:"0.0",value:l})})]})]}),(0,o.jsxs)("div",{className:"flex -mt-[12px]",children:[(0,o.jsxs)("div",{className:"text-left flex",children:[(0,o.jsxs)("span",{className:"font-body3 text-text-500",children:["1 ",_.name," ="]}),(0,o.jsxs)("span",{className:"font-body4 text-text-250 ml-1",children:["KODEX"===_.name?H.Z.EXCHANGE_TOKENS.KODEX.exchangeRate:H.Z.EXCHANGE_TOKENS.WRAP.exchangeRate," ","PLY"]})]}),(0,o.jsx)("div",{className:"text-right ml-auto font-body2 text-text-400 flex",children:de.vestedAmount?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"text-white mr-1",children:["+ ",(0,R.Zy)(null===de||void 0===de?void 0:de.vestedAmount)," PLY"]})," ","vested ",(0,o.jsx)("span",{className:"md:block hidden ml-1",children:"for upto 05-Jan-2025"})]}):"--"})]})]}),(0,o.jsx)("div",{className:"mt-5",children:oe})]})]}),b&&(0,o.jsx)(P.Z,{show:b,setShow:g,content:"Migration of ".concat(localStorage.getItem(se.qq)," ").concat(localStorage.getItem(se.lo)," ")}),I&&(0,o.jsx)(T.Z,{show:I,setShow:B,onBtnClick:j?function(){return window.open("".concat(V.lu).concat(j),"_blank")}:null,content:"Migration of ".concat(localStorage.getItem(se.qq)," ").concat(localStorage.getItem(se.lo))}),(0,o.jsx)(X,{tokens:D.sort((function(t,n){return Number(e.allBalance[n.name])-Number(e.allBalance[t.name])})),show:ee,allBalance:e.allBalance,isSuccess:!0,selectToken:function(e){d(""),K({name:e.name,image:e.image}),te(!1)},onhide:te,tokenIn:_}),(0,o.jsx)(M,{show:re,setShow:ae,handleClick:function(){ae(!1),g(!0),W((0,J.AM)({isLoading:!0,operationSuccesful:!1})),localStorage.setItem(se.lo,_.name),localStorage.setItem(se.qq,new c.O(r).decimalPlaces(4,1).toString()),ie("KODEX"===_.name?U.kc.KODEX:U.kc.WRAP,new c.O(r),h,N,be,g,{flashType:le.Y.Info,headerText:"Transaction submitted",trailingText:"Migration of ".concat(localStorage.getItem(se.qq)," ").concat(localStorage.getItem(se.lo)," "),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(e){e.success?(p(!0),setTimeout((function(){W((0,J.AM)({isLoading:!1,operationSuccesful:!0})),W((0,$.XV)({flashType:le.Y.Success,headerText:"Success",trailingText:"Migration of ".concat(localStorage.getItem(se.qq)," ").concat(localStorage.getItem(se.lo)),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(V.lu).concat(e.operationId?e.operationId:""),"_blank")},transactionId:e.operationId?e.operationId:""}))}),6e3),setTimeout((function(){B(!1)}),2e3)):(p(!0),g(!1),setTimeout((function(){B(!1)}),2e3),W((0,$.XV)({flashType:le.Y.Rejected,headerText:"Rejected",trailingText:"Migration of ".concat(localStorage.getItem(se.qq)," ").concat(localStorage.getItem(se.lo)," "),linkText:"",isLoading:!0,transactionId:""})),W((0,J.AM)({isLoading:!1,operationSuccesful:!0})))}))},exchangeRes:de,tokenIn:_.name})]})},de=n(31467),ue=n(12618),me={src:"/_next/static/media/lock-violet.88d07a74.svg",height:17,width:17},xe=n(92197),fe=n(36032);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){var t,n,r,a,i,l,s,d,u,m,x,f,p,h,v,b,g,w=new c.O(e.vestedData.nextClaim).minus(Date.now()),j=new c.O(e.vestedData.nextClaim).minus(e.vestedData.lastClaim),y=w.multipliedBy(100).dividedBy(j),N=he((0,fe.a)((null===(t=e.vestedData)||void 0===t||null===(n=t.nextClaim)||void 0===n?void 0:n.isGreaterThan(0))?null===(r=e.vestedData)||void 0===r||null===(a=r.nextClaim)||void 0===a?void 0:a.toNumber():Date.now()),4),S=(N[0],N[1]),O=N[2],C=N[3];return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:(0,k.default)("md:ml-auto h-[68px] py-4 px-3 md:px-5  flex items-center bg-background-200 ","border-b border-b-borderCommon"),children:[(0,o.jsx)("span",{className:"hidden md:block border-r border-text-700 h-[30px] w-px mr-6"}),(0,o.jsx)("p",{children:(0,o.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,o.jsx)("p",{className:"relative top-px",children:(0,o.jsx)(A.eE,{id:"tooltip8",message:"Claimable and locked PLY",position:A.Ly.top,children:(0,o.jsx)(Z(),{alt:"alt",src:de.Z,className:"cursor-pointer"})})}),(0,o.jsx)(Z(),{alt:"alt",src:ue.Z}),(0,o.jsx)("p",{className:"text-white font-body1 md:font-body3 ",children:"Vested PLY"}),(0,o.jsxs)("div",{className:"font-title2-bold md:font-title1-bold cursor-pointer text-white ml-0.5 md:ml-2 flex items-end",children:[void 0===e.vestedData.claimableAmount?(0,o.jsx)("p",{className:" my-[4px] w-[60px] h-[24px] md:h-[32px] rounded animate-pulse bg-shimmer-100"}):(0,o.jsx)(A.eE,{position:A.Ly.top,message:null===(i=e.vestedData)||void 0===i||null===(l=i.claimableAmount)||void 0===l?void 0:l.toFixed(6),id:"tooltip9",children:Number(null===(s=e.vestedData)||void 0===s?void 0:s.claimableAmount)>0?(null===(d=e.vestedData)||void 0===d?void 0:d.claimableAmount.isLessThan(.01))?"<0.01":(0,R.ZP)(null===(u=e.vestedData)||void 0===u?void 0:u.claimableAmount):"0"}),(0,o.jsx)("p",{className:"font-subtitle5 md:font-title2-normal text-border-400 ml-1 mb-px",children:"PLY"}),(0,o.jsx)("p",{className:"relative top-1 ml-1",children:(0,o.jsx)(Z(),{alt:"alt",src:me})}),(0,o.jsx)("p",{className:"font-body1 md:font-body3 cursor-pointer text-text-250 ml-1 mb-0.5",children:(0,o.jsxs)(A.eE,{position:A.Ly.top,message:null===(m=e.vestedData)||void 0===m||null===(x=m.vestedAmount)||void 0===x?void 0:x.toFixed(6),id:"tooltip9",children:[Number(null===(f=e.vestedData)||void 0===f?void 0:f.vestedAmount)>0?(null===(p=e.vestedData)||void 0===p?void 0:p.vestedAmount.isLessThan(.01))?"<0.01":(0,R.ZP)(null===(h=e.vestedData)||void 0===h?void 0:h.vestedAmount):"0","PLY"," "]})})]})]})}),(0,o.jsx)("p",{className:"ml-1.5 md:ml-6",children:(0,o.jsx)(A.eE,{position:A.Ly.bottom,disable:e.vestedData.isClaimable,toolTipChild:(0,o.jsxs)("div",{className:"cursor-pointer",children:[(0,o.jsxs)("span",{children:[S," h "]}),":",(0,o.jsxs)("span",{children:[" ",O," m "]}),":",(0,o.jsxs)("span",{children:[" ",C," s "]})]}),id:"tooltip9",children:(0,o.jsxs)("div",{className:(0,k.default)("cursor-pointer h-[50px] flex items-center justify-center w-[100px] md:w-[148px] rounded-xl  font-title3-bold ",e.vestedData.isClaimable?"bg-primary-red text-black":"bg-blue-200 text-blue-300"),onClick:(null===(v=e.plentyBal)||void 0===v?void 0:v.toNumber())>=0&&(null===(b=e.wrapBal)||void 0===b?void 0:b.toNumber())>=0&&(null===(g=e.vestedData)||void 0===g?void 0:g.isClaimable)?function(){return e.onClick()}:function(){},children:["Claim",!e.vestedData.isClaimable&&(0,o.jsx)("span",{className:"ml-[6px]",children:(0,o.jsx)(xe.Z,{violet:100-Math.floor(Number(y)),transparent:Math.floor(Number(y))})})]})})})]})})}var be=n(85566),ge=n(45459);var we=function(e){var t,n,r,a,i=function(){e.setShow(!1)};return e.show?(0,o.jsx)(I.H,{onhide:i,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"cursor-pointer",onClick:i,children:(0,o.jsx)(Z(),{alt:"alt",src:q.Z})}),(0,o.jsx)("div",{className:"mx-2 text-white font-title3",children:"Claim PLY"})]}),(0,o.jsxs)("div",{className:"border border-text-800 bg-card-200 py-4 mt-3 rounded-2xl",children:[(0,o.jsx)("div",{className:"flex mt-[2px] items-center px-4 ",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-text-400 font-body1",children:"You will receive "}),(0,o.jsxs)("span",{className:"font-title2 text-white mt-1",children:[null===(t=e.vestedData)||void 0===t||null===(n=t.claimableAmount)||void 0===n?void 0:n.toFixed(2)," PLY"]})]})}),(0,o.jsxs)("div",{className:"md:font-body3 font-body1 h-[50px] flex items-center bg-card-500 border-t border-b border-text-800/[0.5] px-5 mt-4",children:[(0,o.jsxs)("span",{className:"md:font-subtitle4 font-caption2 mr-1",children:[null===(r=e.vestedData)||void 0===r||null===(a=r.vestedAmount)||void 0===a?void 0:a.toFixed(2)," PLY"]})," ","will be vested for upto 05-Jan-2025"," "]})]}),(0,o.jsx)("div",{className:"mt-[16px]",children:(0,o.jsx)(O.Z,{color:"primary",onClick:e.handleClick,children:"Confirm"})})]})}):null};function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=function(e){var t,n,r,a,i,l,d,f,p,h,v,b,g,w,j=(0,s.useState)(""),y=(j[0],j[1],(0,m.CG)((function(e){return e.config.tokens}))),N=(0,s.useState)(!1),L=N[0],D=N[1],I=(0,m.CG)((function(e){return e.wallet.address})),B=(0,s.useState)(!1),Y=B[0],_=B[1],K=(0,s.useState)(""),X=K[0],G=K[1],q=function(e){G(e),U(!0)},M=(0,s.useState)({success:!1,allTokensBalances:{}}),F=M[0],H=M[1];(0,s.useEffect)((function(){H({success:!1,allTokensBalances:{}}),I?(0,ge.b1)(Object.values(y),I).then((function(e){H(e)})):H({success:!1,allTokensBalances:{}})}),[I,y,L]);var W=(0,s.useState)(!1),z=W[0],U=W[1],Q=(0,s.useState)({name:"PLY",image:E.Z}),ee=Q[0],te=(Q[1],(0,u.I0)()),ne=function(){return te((0,x.A$)())},re=function(){},ae=(0,s.useState)(!1),ie=ae[0],ce=ae[1],de=ye((0,fe.a)((null===(t=e.vestedData)||void 0===t||null===(n=t.nextClaim)||void 0===n?void 0:n.isGreaterThan(0))?null===(r=e.vestedData)||void 0===r||null===(a=r.nextClaim)||void 0===a?void 0:a.toNumber():Date.now()),4),ue=(de[0],de[1]),me=de[2],pe=de[3],he=new c.O(e.vestedData.nextClaim).minus(Date.now()),ve=new c.O(e.vestedData.nextClaim).minus(e.vestedData.lastClaim),je=he.multipliedBy(100).dividedBy(ve),Ne=(0,s.useMemo)((function(){return I?(0,o.jsx)(A.eE,{position:A.Ly.bottom,disable:e.vestedData.isClaimable,toolTipChild:(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{children:[ue," h "]}),":",(0,o.jsxs)("span",{children:[" ",me," m "]}),":",(0,o.jsxs)("span",{children:[" ",pe," s "]})]}),id:"tooltip9",children:(0,o.jsxs)("div",{className:(0,k.default)("h-[50px] cursor-pointer  flex items-center justify-center w-full rounded-xl  font-title3-bold ",e.vestedData.isClaimable?"bg-primary-red text-black":"bg-blue-200 text-blue-300"),onClick:e.vestedData.isClaimable?function(){return ce(!0)}:function(){},children:["Claim",!e.vestedData.isClaimable&&(0,o.jsx)("span",{className:"ml-[6px]",children:(0,o.jsx)(xe.Z,{violet:100-Math.floor(Number(je)),transparent:Math.floor(Number(je))})})]})}):(0,o.jsx)(O.Z,{color:"primary",onClick:ne,width:"w-full",children:"Connect wallet"})}),[e]);return(0,m.CG)((function(e){return e.tokenPrice.tokenPrice})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:(0,k.default)("bg-card-500 md:border border-y border-text-800 mt-[36px]  md:rounded-3xl  text-white lg:w-640 pt-5 pb-2 mx-auto fade-in"),children:[(0,o.jsx)("div",{className:"flex items-center flex-row px-5 lg:px-9 relative",children:(0,o.jsx)("div",{className:"font-title2",children:"Claim Vested PLY"})}),(0,o.jsxs)("div",{className:" pt-[41px] mt-[16px] pb-5 border border-primary-500/[0.2] mx-px md:mx-2 lg:mx-2 px-5 lg:px-[22px] rounded-3xl bg-primary-red/[0.04]",children:[(0,o.jsxs)("div",{className:(0,k.default)("lg:w-580 secondtoken h-[102px] border border-text-800 rounded-2xl  px-4 border-primary-500/[0.2] hover:border-primary-500/[0.6] bg-card-500 hover:bg-primary-red/[0.02]"),children:[(0,o.jsxs)("div",{className:" flex ",children:[(0,o.jsx)("div",{className:(0,k.default)(" mt-4","flex-none"),children:(0,o.jsx)(C.Z,{tokenIcon:ee.image,tokenName:ee.name,isArrow:!0,tokenSymbol:ee.name})}),(0,o.jsxs)("div",{className:" my-3 flex-auto",children:[(0,o.jsx)("div",{className:"text-right font-body1 text-text-400",children:"YOUR CLAIMABLE BALANCE"}),(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"text",className:(0,k.default)("text-primary-white  inputSecond text-right border-0 font-input-text lg:font-medium1 outline-none w-[100%] placeholder:text-primary-white "),placeholder:"0.0",value:null===(i=e.vestedData)||void 0===i||null===(l=i.claimableAmount)||void 0===l?void 0:l.toFixed(6)})})]})]}),(0,o.jsxs)("div",{className:"flex -mt-[12px]",children:[(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("span",{className:"text-text-600 font-body3",children:"Balance:"})," ",(0,o.jsx)("span",{className:"font-body4 cursor-pointer text-text-500 ",children:Number(null===(d=F.allTokensBalances[ee.name])||void 0===d?void 0:d.balance)>=0?(0,o.jsx)(A.eE,{message:(0,S.Z)(null===(f=F.allTokensBalances[ee.name])||void 0===f?void 0:f.balance.toString()),disable:!(Number(null===(p=F.allTokensBalances[ee.name])||void 0===p?void 0:p.balance)>0),id:"tooltip9",position:A.Ly.right,children:Number(null===(h=F.allTokensBalances[ee.name])||void 0===h?void 0:h.balance)>0?null===(b=Number(null===(v=F.allTokensBalances[ee.name])||void 0===v?void 0:v.balance))||void 0===b?void 0:b.toFixed(4):0}):"--"})]}),(0,o.jsxs)("div",{className:"text-right ml-auto font-body2 text-text-400 flex",children:[(0,o.jsxs)("span",{className:"text-white mr-1",children:["+ ",null===(g=e.vestedData)||void 0===g||null===(w=g.vestedAmount)||void 0===w?void 0:w.toFixed(2)," PLY"]})," ","vested ",(0,o.jsx)("span",{className:"md:block hidden ml-1",children:"for upto 05-Jan-2025"}),(0,o.jsx)("span",{className:"relative top-1 md:hidden",children:(0,o.jsx)(Z(),{src:be.Z})})]})]})]}),(0,o.jsx)("div",{className:"mt-5",children:Ne})]})]}),Y&&(0,o.jsx)(P.Z,{show:Y,setShow:_,content:"Claim of ".concat(localStorage.getItem(se.qq)," PLY ")}),z&&(0,o.jsx)(T.Z,{show:z,setShow:U,onBtnClick:X?function(){return window.open("".concat(V.lu).concat(X),"_blank")}:null,content:"Claim of ".concat(localStorage.getItem(se.qq)," PLY ")}),(0,o.jsx)(we,{show:ie,setShow:ce,handleClick:function(){ce(!1),_(!0),te((0,J.AM)({isLoading:!0,operationSuccesful:!1})),localStorage.setItem(se.qq,(0,R.Zy)(new c.O(e.vestedData.claimableAmount)).toString()),oe(q,re,_,{flashType:le.Y.Info,headerText:"Transaction submitted",trailingText:"Claim of ".concat(localStorage.getItem(se.qq)," PLY "),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(e){e.success?(D(!0),setTimeout((function(){te((0,J.AM)({isLoading:!1,operationSuccesful:!0})),te((0,$.XV)({flashType:le.Y.Success,headerText:"Success",trailingText:"Claim of ".concat(localStorage.getItem(se.qq)," PLY "),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(V.lu).concat(e.operationId?e.operationId:""),"_blank")},transactionId:e.operationId?e.operationId:""}))}),6e3),setTimeout((function(){U(!1)}),2e3)):(D(!0),_(!1),setTimeout((function(){U(!1)}),2e3),te((0,$.XV)({flashType:le.Y.Rejected,headerText:"Rejected",trailingText:"Claim of ".concat(localStorage.getItem(se.qq)," PLY "),linkText:"",isLoading:!0,transactionId:""})),te((0,J.AM)({isLoading:!1,operationSuccesful:!0})))}))},vestedData:e.vestedData})]})};function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,a)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e){var t,n,r=(0,m.CG)((function(e){return e.wallet.address})),i=(0,u.I0)(),l=(0,m.CG)((function(e){return e.config.tokens})),k=(0,m.CG)((function(e){return e.pools.totalVotingPowerError})),S=(0,m.CG)((function(e){return e.epoch})).epochFetchError,O=(0,m.CG)((function(e){return e.config.AMMs})),C=(0,m.CG)((function(e){return e.tokenPrice.tokenPrice})),E=(0,m.CG)((function(e){return e.tokenPrice.lpTokenPrices})),P=(0,m.CG)((function(e){return e.portfolioStatsVotes.votesStatsError})),T=(0,m.CG)((function(e){return e.portfolioRewards.locksRewardsDataError})),A=(0,m.CG)((function(e){return e.portfolioRewards.rewardsOperationDataError})),L=(0,m.CG)((function(e){return e.portfolioRewards.unclaimedInflationDataError})),D=(0,m.CG)((function(e){return e.portfolioStatsTvl.userTvlError})),I=(0,s.useRef)(!0),B=(0,s.useRef)(!0),Y="WRAP",Z="KODEX",R=(0,s.useState)({}),_=R[0],K=R[1];(0,s.useEffect)((function(){var e=function(){var e,t=(e=a().mark((function e(){var t,n,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!r){e.next=10;break}return Y&&t.push((0,ge.wd)(String(null===(n=l[Y])||void 0===n?void 0:n.address),l[Y].tokenId,l[Y].standard,r,Y)),Z&&t.push((0,ge.wd)(String(null===(o=l[Z])||void 0===o?void 0:o.address),l[Z].tokenId,l[Z].standard,r,Z)),t.push((0,ge.wd)(String(null===(i=l.PLY)||void 0===i?void 0:i.address),l.PLY.tokenId,l.PLY.standard,r,"PLY")),e.next=8,Promise.all(t);case 8:s=e.sent,K((function(e){return Ce({},e,s.reduce((function(e,t){return Ce({},e,Oe({},t.identifier,t.balance))}),{}))}));case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Se(o,r,a,i,l,"next",e)}function l(e){Se(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[r,l,e.operationSuccesful]),(0,s.useEffect)((function(){i((0,x.mg)()),i((0,f.iE)())}),[]),(0,s.useEffect)((function(){S&&i((0,v.jJ)())}),[S]),(0,b.Y)((function(){i((0,v.jJ)())}),6e4),(0,s.useEffect)((function(){r&&i((0,h.j)())}),[r]),(0,s.useEffect)((function(){r&&k&&i((0,h.j)())}),[k]),(0,s.useEffect)((function(){I.current?I.current=!1:0!==Object.keys(l).length&&i((0,p.jq)())}),[l]),(0,s.useEffect)((function(){B.current?B.current=!1:0!==Object.keys(C).length&&i((0,p.GR)(C))}),[C]),(0,s.useEffect)((function(){0!==Object.keys(O).length&&i((0,f.Yb)())}),[O]),(0,s.useEffect)((function(){r&&0!==Object.keys(C).length&&(i((0,g.HF)({userTezosAddress:r,tokenPrices:C})),i((0,g.kn)({userTezosAddress:r,tokenPrices:C})),i((0,g.jU)({userTezosAddress:r,tokenPrices:C})))}),[r,C]),(0,s.useEffect)((function(){r&&0!==Object.keys(C).length&&T&&setTimeout((function(){i((0,g.HF)({userTezosAddress:r,tokenPrices:C}))}),w.Vi)}),[T]),(0,s.useEffect)((function(){r&&0!==Object.keys(C).length&&A&&setTimeout((function(){i((0,g.kn)({userTezosAddress:r,tokenPrices:C}))}),w.Vi)}),[A]),(0,s.useEffect)((function(){r&&0!==Object.keys(C).length&&L&&setTimeout((function(){i((0,g.jU)({userTezosAddress:r,tokenPrices:C}))}),w.Vi)}),[L]);var X=(0,s.useState)({}),G=X[0],q=X[1];(0,s.useEffect)((function(){r&&(z(r).then((function(e){q(e)})),0!==Object.keys(E).length&&0!==Object.keys(C).length&&i((0,j.E)({userTezosAddress:r,tokenPrices:C,lpTokenPrices:E})))}),[r,E,e.operationSuccesful]);var M=Ee((0,fe.a)((null===G||void 0===G||null===(t=G.nextClaim)||void 0===t?void 0:t.isGreaterThan(0))?null===G||void 0===G||null===(n=G.nextClaim)||void 0===n?void 0:n.toNumber():Date.now()),4),V=(M[0],M[1],M[2]),F=M[3];(0,b.Y)((function(){(V<0||F<0)&&!G.isClaimable&&r&&z(r).then((function(e){q(e)}))}),5e3),(0,s.useEffect)((function(){r&&0!==Object.keys(C).length&&0!==Object.keys(E).length&&D&&setTimeout((function(){i((0,j.E)({userTezosAddress:r,tokenPrices:C,lpTokenPrices:E}))}),w.Vi)}),[D]),(0,s.useEffect)((function(){r&&i((0,y.C)(r))}),[r]),(0,s.useEffect)((function(){r&&P&&setTimeout((function(){i((0,y.C)(r))}),w.Vi)}),[P]);var H=(0,s.useState)(!0),W=H[0],J=H[1],$=(0,s.useState)(!1),Q=$[0],ee=$[1];(0,s.useEffect)((function(){var e,t,n,a;r?0===Number(_[U.kc.KODEX])&&0===Number(_[U.kc.WRAP])||0!==(null===(e=G.claimableAmount)||void 0===e?void 0:e.toNumber())?0===Number(_[U.kc.KODEX])&&0===Number(_[U.kc.WRAP])||0===(null===(t=G.claimableAmount)||void 0===t?void 0:t.toNumber())?0===Number(_[U.kc.KODEX])&&0===Number(_[U.kc.WRAP])&&0!==(null===(n=G.claimableAmount)||void 0===n?void 0:n.toNumber())?(re(!0),ee(!1),J(!1)):0===Number(_[U.kc.KODEX])&&0===Number(_[U.kc.WRAP])&&0===(null===(a=G.claimableAmount)||void 0===a?void 0:a.toNumber())&&(re(!1),ee(!1),J(!0)):(ee(!0),J(!0),re(!1)):(J(!0),re(!1),ee(!1)):(ee(!1),J(!0))}),[_[U.kc.KODEX],_[U.kc.WRAP],G.claimableAmount,e.operationSuccesful,r]);var te=(0,s.useState)(!1),ne=te[0],re=te[1],ae=function(){re(!0),J(!1),ee(!1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.t,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:" ",children:(0,o.jsxs)("div",{className:"bg-background-200 flex items-center h-[68px] md:pl-[23px] md:pr-0 px-2 border-b border-b-borderCommon",children:[(0,o.jsx)("div",{className:"font-title2 relative ",children:"Migrate"}),!N.tq&&Q&&(0,o.jsx)(ve,{value:new c.O(12),isLoading:!1,vestedData:G,onClick:ae,plentyBal:new c.O(_[U.kc.KODEX]),wrapBal:new c.O(_[U.kc.WRAP])})]})}),N.tq&&Q&&(0,o.jsx)(ve,{value:new c.O(12),isLoading:!1,vestedData:G,onClick:ae,plentyBal:new c.O(_[U.kc.KODEX]),wrapBal:new c.O(_[U.kc.WRAP])}),ne&&(0,o.jsx)(Ne,{vestedData:G}),W&&(0,o.jsx)(ce,{allBalance:_})]})})})}Pe.propTypes={isLoading:l().bool.isRequired,operationSuccesful:l().bool.isRequired};var Te=(0,u.$j)((function(e,t){return{isLoading:e.walletLoading.isLoading,operationSuccesful:e.walletLoading.operationSuccesful}}))(Pe)},87547:function(e,t,n){"use strict";var r=n(85893),a=n(86010),o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t=(0,o.useState)(!1),n=t[0],l=t[1];return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({className:(0,a.default)("    rounded font-body3 text-white w-full h-[50px] py-3.5 px-3 hover:border-text-700",e.value?"border border-primary-500 bg-outineBtn hover:border-primary-500":"border border-text-800/[0.5]",!n&&e.value&&"border-0 bg-outineBtn")},e,{children:(0,r.jsx)("input",{ref:e.inputRef,autoFocus:!0,className:"bg-transprent relative top-[1px] w-full font-body3 outline-none placeholder:text-text-700",placeholder:"Search name or paste address",onChange:e.onChange,value:e.value,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}})}))}},31493:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),a=n(86010),o=n(67294),i=n(25675),l=n.n(i),s=n(71751),c={src:"/_next/static/media/arrowDownViolet.d32fed1f.svg",height:8,width:12},d=n(34362),u=n(62210),m=n(26038);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}var p=function(e){var t,n=(0,u.CG)((function(e){return e.config.tokens})),i=(0,o.useState)(!1),x=i[0],p=i[1];return e.tokenIcon?(0,r.jsxs)("button",f({className:(0,a.default)("flex items-center px-2 py-2.5 md:p-3 rounded-xl border border-text-800  font-mobile-text md:font-title3 text-white  content-center justify-center h-[50px] ",!e.isArrow&&"hover:border-text-700",!e.isArrow&&x&&"border-primary-500/[0.7]"),onClick:function(){e.onClick,p(!0),setTimeout((function(){p(!1)}),1e3)}},e,{children:[(0,r.jsx)("span",{className:"h-[24px] w-[24px]",children:(0,r.jsx)("img",{alt:"alt",src:m.N[e.tokenSymbol]?m.N[e.tokenSymbol].src:(null===(t=n[e.tokenSymbol.toString()])||void 0===t?void 0:t.iconUrl)?n[e.tokenSymbol.toString()].iconUrl:"/assets/Tokens/fallback.png",height:"24px",width:"24px",onError:d.hj})}),(0,r.jsx)("span",{className:"mx-2 md:mx-2 relative top-[0px]",children:(0,r.jsx)("span",{children:e.tokenName})}),e.isArrow?null:(0,r.jsx)("span",{className:"md:ml-px relative top-[3px] ",children:(0,r.jsx)(l(),{alt:"alt",src:s.Z,height:"20px",width:"20px"})})]})):(0,r.jsxs)("button",f({className:(0,a.default)(" h-[50px] px-2 py-[15px] md:p-3 rounded-xl border text-center border-primary-500/[0.5] font-mobile-text md:font-title3 text-primary-white flex content-center",x&&"border-primary-500/[0.7]","selectAtoken"),onClick:e.onClick},e,{children:[(0,r.jsx)("span",{children:e.tokenName}),(0,r.jsx)("span",{className:"ml-2",children:(0,r.jsx)(l(),{alt:"alt",src:c})})]}))}}},function(e){e.O(0,[9774,2888,179],(function(){return t=12645,e(e.s=t);var t}));var t=e.O();_N_E=t}]);