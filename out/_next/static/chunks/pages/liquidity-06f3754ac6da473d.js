(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7385],{39488:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liquidity",function(){return n(94583)}])},94583:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(85893),s=n(31634),i=n.n(s),r=n(13778),o=n(41664),c=n.n(o),l=n(53447),u=n(11163),d=n(70794),m=n(67294),p=n(45459),h=n(34362),f=n(12982),g=n(4126),x=n(67445),j=n(1255),S=n(62210),b=n(75528),N=n(37837),T=n(23581),v=n(91487),k=n(89532),y=n(56648),w=n(60291),I=n(29290),A=n(43327),E=n(9133),B=n(63139);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,s,i=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(c){o=!0,s=c}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(){var e=(0,m.useState)(!0),t=e[0],n=(e[1],(0,m.useState)(!1)),s=n[0],o=n[1],C=(0,m.useState)(!1),L=C[0],P=(C[1],(0,m.useState)(!1)),R=P[0],_=P[1],M=(0,m.useState)(B.Bj.NONE),X=M[0],F=M[1],U=(0,m.useState)(0),Z=U[0],z=U[1],G=(0,m.useState)(0),Y=G[0],V=G[1],D=(0,m.useState)(0),Q=D[0],K=D[1],W=(0,m.useState)(new d.O(0)),$=W[0],H=W[1],J=(0,m.useState)(0),ee=J[0],te=J[1],ne=(0,m.useState)(0),ae=ne[0],se=ne[1],ie=(0,m.useState)(0),re=ie[0],oe=ie[1],ce=(0,u.useRouter)(),le=q(m.useState(!1),2),ue=le[0],de=le[1],me=q(m.useState(!1),2),pe=(me[0],me[1]),he=q(m.useState(!1),2),fe=(he[0],he[1],(0,m.useState)("0.5")),ge=fe[0],xe=fe[1],je=(0,S.CG)((function(e){return e.config.tokens})),Se=((0,S.CG)((function(e){return e.tokenPrice.tokenPrice})),(0,S.CG)((function(e){return e.wallet.address})),(0,m.useState)("")),be=Se[0],Ne=Se[1],Te=q(m.useState(""),2),ve=Te[0],ke=Te[1],ye=q(m.useState(""),2),we=ye[0],Ie=ye[1],Ae=(0,m.useState)(!0),Ee=Ae[0],Be=Ae[1],Ce=(0,m.useState)(!1),Oe=Ce[0],qe=Ce[1],Le=q(m.useState(""),2),Pe=Le[0],Re=Le[1],_e=(0,m.useState)(""),Me=_e[0],Xe=_e[1],Fe=(0,m.useState)({tokenOneAmount:"",tokenTwoAmount:""}),Ue=Fe[0],Ze=Fe[1],ze=(0,S.CG)((function(e){return e.config.tokens})),Ge=(0,S.CG)((function(e){return e.wallet.address})),Ye=Object.entries(ze),Ve=(0,S.TL)(),De=function(e){Xe(e),We(!0)},Qe=(0,m.useState)(!1),Ke=Qe[0],We=Qe[1],$e=(0,m.useState)(!1),He=$e[0],Je=$e[1],et=(0,m.useState)(""),tt=et[0],nt=(et[1],(0,m.useState)(!1)),at=nt[0],st=(nt[1],(0,m.useState)(!1)),it=st[0],rt=st[1],ot=(0,m.useState)(""),ct=(ot[0],ot[1]),lt=q(m.useState({}),2),ut=lt[0],dt=lt[1],mt=q(m.useState({}),2),pt=mt[0],ht=mt[1],ft=q(m.useState({}),2),gt=ft[0],xt=ft[1],jt=q(m.useState({}),2),St=jt[0],bt=jt[1],Nt=(0,m.useState)(!1),Tt=Nt[0],vt=Nt[1],kt=(0,m.useState)("tokenIn"),yt=kt[0],wt=kt[1],It=function(){vt(!1),Ot("")},At=function(){dt({}),ht({}),ke(""),Ie(""),Ne("")},Et=function(){At(),Ne(""),ke(""),Ie(""),Je(!1)},Bt=(0,m.useState)(""),Ct=Bt[0],Ot=Bt[1],qt=(0,m.useState)({success:!1,allTokensBalances:{}}),Lt=qt[0],Pt=qt[1];(0,m.useEffect)((function(){Ge?(0,p.b1)(Object.values(ze),Ge).then((function(e){console.log("newpool",e),Pt(e)})):Pt({success:!1,allTokensBalances:{}})}),[Ge,je,He,ut.name,pt.name]);var Rt=(0,m.useState)({}),_t=Rt[0],Mt=Rt[1];(0,m.useEffect)((function(){""!==Ct&&Ct.length>8&&(0,f.n)(Ct.trim()).then((function(e){0!==e.allTokensList.length&&(0,p.b1)(e.allTokensList,Ge).then((function(e){Mt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){O(e,t,n[t])}))}return e}({},_t,e.allTokensBalances))}))}))}),[Ct]);var Xt=(0,m.useMemo)((function(){return Ye.map((function(e){return{name:e[0],image:"/assets/Tokens/".concat(e[1].symbol,".png"),chainType:e[1].originChain,address:e[1].address,interface:e[1]}}))}),[ze]),Ft=(0,m.useState)(!1),Ut=Ft[0],Zt=Ft[1];(0,m.useEffect)((function(){Ut&&Ve((0,b.iE)())}),[Ut]),(0,m.useEffect)((function(){Object.keys(Lt),0!==length&&Lt.success&&0!==Object.keys(Lt.allTokensBalances).length&&Xt.sort((function(e,t){var n,a,s,i;return Number((null===(n=Lt.allTokensBalances[t.name])||void 0===n?void 0:n.balance)?null===(a=Lt.allTokensBalances[t.name])||void 0===a?void 0:a.balance:0)-Number((null===(s=Lt.allTokensBalances[e.name])||void 0===s?void 0:s.balance)?null===(i=Lt.allTokensBalances[e.name])||void 0===i?void 0:i.balance:0)}))}),[Xt,Lt.allTokensBalances]),(0,m.useEffect)((function(){Ne(""),"XTZ"===ut.name&&"CTez"!==pt.name||"XTZ"===pt.name&&"CTez"!==ut.name?Ne(I.sO.VOLATILE):"XTZ"===ut.name&&"CTez"===pt.name||"XTZ"===pt.name&&"CTez"===ut.name?Ne(I.sO.STABLE):Ne(I.sO.GENERAL)}),[ut.name,pt.name]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:i().liquidity,children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("section",{className:"section sec1 liquidity liquidity1 liquidity1-sec1",children:(0,a.jsxs)("div",{className:"sec-wrapper",children:[(0,a.jsxs)("div",{className:"titles",children:[(0,a.jsxs)("div",{className:"title-wrapper",children:[(0,a.jsx)("img",{className:"pointer",src:"/images/left_arrow.png",onClick:function(){ce.back(),At()}}),(0,a.jsx)("h1",{className:"title",children:"Add Liquidity"})]}),(0,a.jsxs)("div",{className:"extras",children:[(0,a.jsx)("div",{className:"more",children:(0,a.jsx)("p",{children:"Clear All"})}),(0,a.jsx)(c(),{href:"/liquidity",className:"img-setting",children:(0,a.jsx)("img",{src:"/images/settings.png"})})]})]}),(0,a.jsxs)("div",{className:"content-box",children:[(0,a.jsxs)("div",{className:"content-part-wrapper left",children:[(0,a.jsxs)("div",{className:t?"content-part content-part2":"content-part content-part2 greyText",children:[(0,a.jsx)("h2",{className:"title",children:"Select Fee Tier"}),(0,a.jsx)("p",{className:"desc",children:"The % you will earn in fee\u2019s"}),(0,a.jsxs)("div",{className:"pairs-wrapper",children:[(0,a.jsxs)("div",{className:X===B.Bj.TIER1?"pairs pairs-activated":"pairs",onClick:function(){X===B.Bj.TIER1?F(B.Bj.NONE):F(B.Bj.TIER1),o(!s)},children:[(0,a.jsx)("div",{className:"number",children:"0.05%"}),(0,a.jsx)("div",{className:"text",children:"Best for stable pairs"})]}),(0,a.jsxs)("div",{className:X===B.Bj.TIER2?"pairs pairs-activated":"pairs",onClick:function(){X===B.Bj.TIER2?F(B.Bj.NONE):F(B.Bj.TIER2),o(!s)},children:[(0,a.jsx)("div",{className:"number",children:"0.3%"}),(0,a.jsx)("div",{className:"text",children:"Best for most pairs"})]}),(0,a.jsxs)("div",{className:X===B.Bj.TIER3?"pairs pairs-activated":"pairs",onClick:function(){X===B.Bj.TIER3?F(B.Bj.NONE):F(B.Bj.TIER3),o(!s)},children:[(0,a.jsx)("div",{className:"number",children:"1%"}),(0,a.jsx)("div",{className:"text",children:"Best for exotic pairs"})]})]})]}),(0,a.jsx)("div",{className:"w-[100%]",children:(0,a.jsx)(I.ZP,{setShowConfirmPool:rt,firstTokenAmount:ve,secondTokenAmount:we,userBalances:Lt.allTokensBalances,setShowLiquidityModalPopup:de,setSecondTokenAmount:Ie,setFirstTokenAmount:ke,tokenIn:ut,tokenOut:pt,tokenInOp:gt,tokenOutOp:St,feeTier:X,curPrice:re,userMinPrice:ee,userMaxPrice:ae,userCurPrice:Z,setUserMinPrice:te,setUserMaxPrice:se,tickUpper:Y,tickLower:Q,setTickUpper:V,setTickLower:K,setCurSqrt:H,setCurPrice:oe,setIsAddLiquidity:Be,isAddLiquidity:Ee,pnlpBalance:tt,setBurnAmount:Re,burnAmount:Pe,setRemoveTokenAmount:Ze,removeTokenAmount:Ue,setSlippage:xe,slippage:ge,isLoading:at,handleTokenType:function(e){Je(!1),vt(!0),wt(e)},setPair:Ne,pair:be,setShowLiquidityModal:function(e){de(e)},showLiquidityModal:ue,contractTokenBalance:_t,isExist:R,setIsExist:_})}),it&&(0,a.jsx)(w.Z,{show:it,pair:be,setShow:rt,tokenIn:ut,tokenOut:pt,firstTokenAmount:ve,secondTokenAmount:we,onClick:function(){rt(!1),localStorage.setItem(x.lo,(0,h.Xf)(ut.name)),localStorage.setItem(x.Ud,(0,h.Xf)(pt.name)),localStorage.setItem(x.qq,be.replace("pair","")),ct("new pool"),Ve((0,T.AM)({isLoading:!0,operationSuccesful:!1})),pe(!1),Zt(!1),qe(!0),console.log("[prince]: hey wake up"),(0,j.rf)(gt,St,X,R,Q,Y,Ge,Number(ve).toString(),Number(we).toString(),(.95*Number(ve)).toString(),(.95*Number(we)).toString(),$,De,Et,qe,{flashType:k.Y.Info,headerText:"Transaction submitted",trailingText:"Addition of new ".concat(localStorage.getItem(x.lo),"/").concat(localStorage.getItem(x.Ud)," ").concat(localStorage.getItem(x.qq)," pool"),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(e){e.success?(At(),Je(!0),Et(),setTimeout((function(){We(!1),Ve((0,N.XV)({flashType:k.Y.Success,headerText:"Success",trailingText:"Addition of new ".concat(localStorage.getItem(x.lo),"/").concat(localStorage.getItem(x.Ud)," ").concat(localStorage.getItem(x.qq)," pool"),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(E.lu).concat(e.operationId?e.operationId:""),"_blank")},transactionId:e.operationId?e.operationId:""})),Zt(!0)}),6e3),setTimeout((function(){pe(!0)}),7e3),Ve((0,T.AM)({isLoading:!1,operationSuccesful:!0})),ct("")):(Je(!0),At(),qe(!1),setTimeout((function(){We(!1),Ve((0,N.XV)({flashType:k.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Addition of new ".concat(localStorage.getItem(x.lo),"/").concat(localStorage.getItem(x.Ud)," ").concat(localStorage.getItem(x.qq)," pool"),linkText:"",isLoading:!0}))}),2e3),Ve((0,T.AM)({isLoading:!1,operationSuccesful:!0})),ct(""))}))},routeDetails:{}}),(0,a.jsx)(A.Z,{tokens:Xt.filter((function(e){return e.name.toLowerCase()!==g.kc.KODEX.toLowerCase()&&e.name.toLowerCase()!==g.kc.WRAP.toLowerCase()})),show:Tt,isLoading:Lt.success,allBalance:Lt.allTokensBalances,selectToken:function(e){e.interface.standard===g.Yn.FA12?("tokenOut"!==yt&&"tokenIn"!==yt||""===ve||Ie(""),"tokenIn"===yt?(xt(e.interface),dt({name:e.name,symbol:e.name,image:e.image})):(bt(e.interface),ht({name:e.name,symbol:e.name,image:e.image})),It()):window.alert("now support FA1.2")},onhide:It,tokenIn:ut,tokenOut:pt,tokenType:yt,searchQuery:Ct,setSearchQuery:Ot}),Oe&&(0,a.jsx)(v.Z,{show:Oe,setShow:qe,content:"Addition of new ".concat(localStorage.getItem(x.lo),"/").concat(localStorage.getItem(x.Ud)," ").concat(localStorage.getItem(x.qq)," pool")}),Ke&&(0,a.jsx)(y.Z,{show:Ke,setShow:We,onBtnClick:Me?function(){return window.open("".concat(E.lu).concat(Me),"_blank")}:null,content:"Addition of new ".concat(localStorage.getItem(x.lo),"/").concat(localStorage.getItem(x.Ud)," ").concat(localStorage.getItem(x.qq)," pool")})]}),(0,a.jsxs)("div",{className:L?"content-part-wrapper right":"content-part-wrapper right greyText",children:[R&&re?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("h2",{className:"title",children:"Set Price Range"}),(0,a.jsxs)("div",{className:"buttons",children:[(0,a.jsx)("button",{className:"button",children:"-"}),(0,a.jsx)("button",{className:"button",children:"+"})]})]}),(0,a.jsx)("h2",{className:"current-price",children:"Current Price: ".concat(re)}),(0,a.jsx)("div",{className:"range-selector-graphic"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("h2",{className:"title",children:"Set Starting Price"})}),(0,a.jsx)("div",{className:"warning-message-new-pool",children:"This pool must be initialized before you can add liquidity. To initialize, select a starting price for the pool. Then, enter your liquidity price range and deposit amount. Gas fees will be higher than usual due to the initialization transaction."}),(0,a.jsx)("input",{className:"input-start-price",type:"number",min:"0",value:Z,onChange:function(e){return z(parseFloat(e.target.value))}}),(0,a.jsx)("br",{}),ut.symbol&&pt.symbol&&(0,a.jsxs)("div",{className:"current-start-price",children:[(0,a.jsx)("div",{children:"Current ".concat(ut.symbol," Price:")}),(0,a.jsx)("div",{children:"".concat(Z," ").concat(pt.symbol)})]}),(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("h2",{className:"title",children:"Set Price Range"})})]}),(0,a.jsxs)("div",{className:"range-selector-box-pair",children:[(0,a.jsxs)("div",{className:"price-box min-price",children:[(0,a.jsx)("div",{className:"title",children:"Min Price"}),(0,a.jsxs)("div",{className:"body",children:[(0,a.jsx)("button",{className:"button",children:"-"}),(0,a.jsx)("input",{className:"price",type:"number",value:ee,onChange:function(e){return te(parseFloat(e.target.value))}}),(0,a.jsx)("button",{className:"button",children:"+"})]}),(0,a.jsx)("div",{className:"price-unit",children:"X per Y"})]}),(0,a.jsxs)("div",{className:"price-box max-price",children:[(0,a.jsx)("div",{className:"title",children:"Max Price"}),(0,a.jsxs)("div",{className:"body",children:[(0,a.jsx)("button",{className:"button",children:"-"}),(0,a.jsx)("input",{className:"price",type:"number",value:ae,onChange:function(e){return se(parseFloat(e.target.value))}}),(0,a.jsx)("button",{className:"button",children:"+"})]}),(0,a.jsx)("div",{className:"price-unit",children:"X per Y"})]})]}),(0,a.jsx)("div",{className:"warning-message",style:{display:"none"},children:"err message"}),(0,a.jsx)("button",{className:"full-range",children:"Full Range"})]})]})]})}),(0,a.jsx)(l.Z,{})]})})}},31634:function(e){e.exports={liquidity:"liquidity_liquidity__D0Anw"}}},function(e){e.O(0,[8925,50,4433,3748,5634,9774,2888,179],(function(){return t=39488,e(e.s=t);var t}));var t=e.O();_N_E=t}]);