(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5106],{96613:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/poolsOld",function(){return n(42702)}])},42702:function(e,t,n){"use strict";n.r(t),n.d(t,{POOL_TYPE:function(){return Ce},default:function(){return Xe}});var o=n(85893),r=n(67294),a=n(16110),i=n(59103),s=n(58775),l=n(85518),c=n(34051),u=n.n(c),d=n(88767),p=n(9669),f=n.n(p),m=n(70794),h=n(45459),x=n(26041),g=n(63139),v=n(62210),b=n(9133);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){w(a,o,r,i,s,"next",e)}function s(e){w(a,o,r,i,s,"throw",e)}i(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){S(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(){var e=y(u().mark((function e(t,n){var o,r,a,i,s,l,c,d,p,h,k,w,y,S,N,L,B,C,E,I,M,q,P,F,X,G,D,Z,V,R,U,H,_,W;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=v.h.getState(),r=o.config.AMMs,a=o.config.tokens,e.t0=T,e.next=7,Promise.all([f().get("".concat(x.Z.VE_INDEXER[b.Px],"pools")),f().get("".concat(x.Z.ANALYTICS_INDEXER[b.Px],"ve/pools"))]);case 7:e.t1=e.sent,i=(0,e.t0)(e.t1,2),s=i[0],l=i[1],c=s.data,d=l.data,p=d.reduce((function(e,t){return e[t.pool]=t,e}),{}),h={},k=!0,w=!1,y=void 0,e.prev=16,S=c[Symbol.iterator]();case 18:if(k=(N=S.next()).done){e.next=60;break}if(L=N.value,B=r[L.pool],C=p[L.pool]||A({},g.rV),E=new m.O(0),I=[],L.bribes&&0!==L.bribes.length){e.next=28;break}E=new m.O(0),I=[],e.next=45;break;case 28:for(M=!0,q=!1,P=void 0,e.prev=29,F=L.bribes[Symbol.iterator]();!(M=(X=F.next()).done);M=!0)G=X.value,E=E.plus(new m.O(G.value).dividedBy(new m.O(10).pow(a[G.name].decimals)).multipliedBy(null!==(D=n[G.name])&&void 0!==D?D:0)),I.push({name:G.name,value:new m.O(G.value).dividedBy(new m.O(10).pow(a[G.name].decimals)),price:new m.O(null!==(Z=n[G.name])&&void 0!==Z?Z:0)});e.next=37;break;case 33:e.prev=33,e.t2=e.catch(29),q=!0,P=e.t2;case 37:e.prev=37,e.prev=38,M||null==F.return||F.return();case 40:if(e.prev=40,!q){e.next=43;break}throw P;case 43:return e.finish(40);case 44:return e.finish(37);case 45:if(V=!1,R=!1,!t){e.next=56;break}return e.t3=T,e.next=50,Promise.all([j(t,B),O(t,B)]);case 50:e.t4=e.sent,U=(0,e.t3)(e.t4,2),H=U[0],_=U[1],V=H,R=_;case 56:B&&(h[L.pool]={tokenA:B.token1.symbol,tokenB:B.token2.symbol,poolType:B.type,apr:"NaN"!=L.apr?new m.O(L.apr):new m.O(0),futureApr:null!==(W=new m.O(L.futureApr))&&void 0!==W?W:new m.O(0),boostedApr:"NaN"!=L.apr?new m.O(L.apr).multipliedBy(2.5):new m.O(0),volume:new m.O(C.volume24H.value),volumeTokenA:new m.O(C.volume24H.token1),volumeTokenB:new m.O(C.volume24H.token2),tvl:new m.O(C.tvl.value),tvlTokenA:new m.O(C.tvl.token1),tvlTokenB:new m.O(C.tvl.token2),fees:new m.O(C.fees7D.value),feesTokenA:new m.O(C.fees7D.token1),feesTokenB:new m.O(C.fees7D.token2),bribeUSD:E,bribes:I,isLiquidityAvailable:V,isStakeAvailable:R,isGaugeAvailable:!!B.gauge});case 57:k=!0,e.next=18;break;case 60:e.next=66;break;case 62:e.prev=62,e.t5=e.catch(16),w=!0,y=e.t5;case 66:e.prev=66,e.prev=67,k||null==S.return||S.return();case 69:if(e.prev=69,!w){e.next=72;break}throw y;case 72:return e.finish(69);case 73:return e.finish(66);case 74:return e.abrupt("return",{success:!0,allData:h});case 77:return e.prev=77,e.t6=e.catch(0),console.log(e.t6),e.abrupt("return",{success:!1,allData:{}});case 81:case"end":return e.stop()}}),e,null,[[0,77],[16,62,66,74],[29,33,37,45],[38,,40,44],[67,,69,73]])})))}();var j=function(){var e=y(u().mark((function e(t,n){var o,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=n.token1.symbol,r=n.token2.symbol,e.next=5,(0,h.UU)(o,r,t);case 5:if(a=e.sent,!new m.O(a.balance).isGreaterThan(0)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=y(u().mark((function e(t,n){var o,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=n.token1.symbol,r=n.token2.symbol,e.next=5,(0,h.RO)(o,r,t);case 5:if(a=e.sent,!new m.O(a.balance).isGreaterThan(0)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),N=(function(){var e=y(u().mark((function e(t,n){var o,r,a,i,s,l,c,d,p,h,k,w,y,S,N,L,B,C,E,I,M,q,P,F,X,G,D,Z,V,R,U,H,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=v.h.getState(),r=o.config.AMMs,a=o.config.tokens,e.t0=T,e.next=7,Promise.all([f().get("".concat(x.Z.VE_INDEXER[b.Px],"pools")),f().get("".concat(x.Z.ANALYTICS_INDEXER[b.Px],"ve/pools"))]);case 7:e.t1=e.sent,i=(0,e.t0)(e.t1,2),s=i[0],l=i[1],c=s.data,d=l.data,p=c.reduce((function(e,t){return e[t.pool]=t,e}),{}),h={},k=!0,w=!1,y=void 0,e.prev=16,S=d[Symbol.iterator]();case 18:if(k=(N=S.next()).done){e.next=57;break}if(L=N.value,B=r[L.pool],C=p[L.pool]||A({},g.Rt),E=new m.O(0),I=[],!C.bribes){e.next=42;break}for(M=!0,q=!1,P=void 0,e.prev=26,F=C.bribes[Symbol.iterator]();!(M=(X=F.next()).done);M=!0)G=X.value,E=E.plus(new m.O(G.value).dividedBy(new m.O(10).pow(a[G.name].decimals)).multipliedBy(null!==(D=n[G.name])&&void 0!==D?D:0)),I.push({name:G.name,value:new m.O(G.value).dividedBy(new m.O(10).pow(a[G.name].decimals)),price:new m.O(null!==(Z=n[G.name])&&void 0!==Z?Z:0)});e.next=34;break;case 30:e.prev=30,e.t2=e.catch(26),q=!0,P=e.t2;case 34:e.prev=34,e.prev=35,M||null==F.return||F.return();case 37:if(e.prev=37,!q){e.next=40;break}throw P;case 40:return e.finish(37);case 41:return e.finish(34);case 42:if(V=!1,R=!1,!t){e.next=53;break}return e.t3=T,e.next=47,Promise.all([j(t,B),O(t,B)]);case 47:e.t4=e.sent,U=(0,e.t3)(e.t4,2),H=U[0],_=U[1],V=H,R=_;case 53:B&&(h[L.pool]={tokenA:B.token1.symbol,tokenB:B.token2.symbol,poolType:B.type,apr:"NaN"!=C.apr&&new m.O(C.apr).isFinite()?new m.O(C.apr):new m.O(0),futureApr:new m.O(C.futureApr).isFinite()?new m.O(C.futureApr):new m.O(0),boostedApr:"NaN"!=C.apr&&new m.O(C.apr).isFinite()?new m.O(C.apr).multipliedBy(2.5):new m.O(0),volume:new m.O(L.volume24H.value),volumeTokenA:new m.O(L.volume24H.token1),volumeTokenB:new m.O(L.volume24H.token2),tvl:new m.O(L.tvl.value),tvlTokenA:new m.O(L.tvl.token1),tvlTokenB:new m.O(L.tvl.token2),fees:new m.O(L.fees7D.value),feesTokenA:new m.O(L.fees7D.token1),feesTokenB:new m.O(L.fees7D.token2),bribeUSD:E,bribes:I,isLiquidityAvailable:V,isStakeAvailable:R,isGaugeAvailable:!!B.gauge});case 54:k=!0,e.next=18;break;case 57:e.next=63;break;case 59:e.prev=59,e.t5=e.catch(16),w=!0,y=e.t5;case 63:e.prev=63,e.prev=64,k||null==S.return||S.return();case 66:if(e.prev=66,!w){e.next=69;break}throw y;case 69:return e.finish(66);case 70:return e.finish(63);case 71:return e.abrupt("return",{success:!0,allData:h});case 74:return e.prev=74,e.t6=e.catch(0),console.log(e.t6),e.abrupt("return",{success:!1,allData:{}});case 78:case"end":return e.stop()}}),e,null,[[0,74],[16,59,63,71],[26,30,34,42],[35,,37,41],[64,,66,70]])})))}(),function(){var e=y(u().mark((function e(t,n){var o,r,a,i,s,l,c,d,p,h,k,w,y,S,j,O,N,L,B,C,E,I,M,q,P,F,X,G,D,Z;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=v.h.getState(),r=o.config.AMMs,a=o.config.tokens,e.t0=T,e.next=7,Promise.all([f().get("".concat(x.Z.VE_INDEXER[b.Px],"pools")),f().get("".concat(x.Z.ANALYTICS_INDEXER[b.Px],"ve/pools"))]);case 7:e.t1=e.sent,i=(0,e.t0)(e.t1,2),s=i[0],l=i[1],c=s.data,d=l.data,p=c.reduce((function(e,t){return e[t.pool]=t,e}),{}),h=[],k=d.length,w=n?(n-1)*g.XC<k?(n-1)*g.XC:k:0,y=n&&w+g.XC<k?w+g.XC:k,console.log(w,y),S=w;case 20:if(!(S<y)){e.next=51;break}if(j=d[S],O=r[j.pool],N=p[j.pool]||A({},g.Rt),L=new m.O(0),B=[],C={},!N.bribes){e.next=46;break}for(E=!0,I=!1,M=void 0,e.prev=29,q=N.bribes[Symbol.iterator]();!(E=(P=q.next()).done);E=!0)F=P.value,L=L.plus(new m.O(F.value).dividedBy(new m.O(10).pow(a[F.name].decimals)).multipliedBy(null!==(X=t[F.name])&&void 0!==X?X:0)),C[F.name]?(G=C[F.name],C[F.name]=A({},G,{value:G.value.plus(new m.O(F.value).dividedBy(new m.O(10).pow(a[F.name].decimals))),price:G.price.plus(new m.O(F.value).dividedBy(new m.O(10).pow(a[F.name].decimals)).multipliedBy(null!==(D=t[F.name])&&void 0!==D?D:0))})):C[F.name]={name:F.name,value:new m.O(F.value).dividedBy(new m.O(10).pow(a[F.name].decimals)),price:new m.O(F.value).dividedBy(new m.O(10).pow(a[F.name].decimals)).multipliedBy(null!==(Z=t[F.name])&&void 0!==Z?Z:0)};e.next=37;break;case 33:e.prev=33,e.t2=e.catch(29),I=!0,M=e.t2;case 37:e.prev=37,e.prev=38,E||null==q.return||q.return();case 40:if(e.prev=40,!I){e.next=43;break}throw M;case 43:return e.finish(40);case 44:return e.finish(37);case 45:B=Object.values(C);case 46:B.length>0&&B.sort((function(e,t){return t.price.minus(e.price).toNumber()})),O&&h.push({tokenA:O.token1.symbol,tokenB:O.token2.symbol,poolType:O.type,apr:"NaN"!=N.apr&&new m.O(N.apr).isFinite()?new m.O(N.apr):new m.O(0),futureApr:new m.O(N.futureApr).isFinite()?new m.O(N.futureApr):new m.O(0),boostedApr:"NaN"!=N.apr&&new m.O(N.apr).isFinite()?new m.O(N.apr).multipliedBy(2.5):new m.O(0),volume:new m.O(j.volume24H.value),volumeTokenA:new m.O(j.volume24H.token1),volumeTokenB:new m.O(j.volume24H.token2),tvl:new m.O(j.tvl.value),tvlTokenA:new m.O(j.tvl.token1),tvlTokenB:new m.O(j.tvl.token2),fees:new m.O(j.fees7D.value),feesTokenA:new m.O(j.fees7D.token1),feesTokenB:new m.O(j.fees7D.token2),bribeUSD:L,bribes:B,isGaugeAvailable:!!O.gauge});case 48:S++,e.next=20;break;case 51:return e.abrupt("return",{success:!0,allData:h});case 54:return e.prev=54,e.t3=e.catch(0),console.log(e.t3),e.abrupt("return",{success:!1,allData:[],error:e.t3.message});case 58:case"end":return e.stop()}}),e,null,[[0,54],[29,33,37,45],[38,,40,44]])})));return function(t,n){return e.apply(this,arguments)}}()),L=function(){var e=y(u().mark((function e(t,n,o){var r,a,i,s,l,c,d,p,h,k,w,y,S,j,O,N,L,C,E,I,M,q,P,F,X,G,D,Z,V,R,U,H,_,W,Y,z;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&!(t.length<=0)){e.next=3;break}throw new Error("Invalid or empty arguments.");case 3:return r=v.h.getState(),a=r.config.AMMs,i=r.config.tokens,e.t0=T,e.next=9,Promise.all([f().get("".concat(x.Z.VE_INDEXER[b.Px],"pools")),f().get("".concat(x.Z.ANALYTICS_INDEXER[b.Px],"ve/pools")),f().get("".concat(x.Z.VE_INDEXER[b.Px],"positions?address=").concat(t)),B(t)]);case 9:e.t1=e.sent,s=(0,e.t0)(e.t1,4),l=s[0],c=s[1],d=s[2],p=s[3],h=l.data,k=c.data,w=d.data,y=w.concat(p),S=h.reduce((function(e,t){return e[t.pool]=t,e}),{}),j=k.reduce((function(e,t){return e[t.pool]=t,e}),{}),O=[],N=y.length,L=o?(o-1)*g.XC<N?(o-1)*g.XC:N:0,C=o&&L+g.XC<N?L+g.XC:N,console.log(L,C),E=L;case 27:if(!(E<C)){e.next=59;break}if(I=y[E],M=a[I.amm],q=S[I.amm]||A({},g.Rt),P=j[I.amm]||A({},g.rV),F=new m.O(0),X=[],G={},!(q.bribes.length>0)){e.next=54;break}for(D=!0,Z=!1,V=void 0,e.prev=37,R=q.bribes[Symbol.iterator]();!(D=(U=R.next()).done);D=!0)H=U.value,F=F.plus(new m.O(H.value).dividedBy(new m.O(10).pow(i[H.name].decimals)).multipliedBy(null!==(_=n[H.name])&&void 0!==_?_:0)),G[H.name]?(W=G[H.name],G[H.name]=A({},W,{value:W.value.plus(new m.O(H.value).dividedBy(new m.O(10).pow(i[H.name].decimals))),price:W.price.plus(new m.O(H.value).dividedBy(new m.O(10).pow(i[H.name].decimals)).multipliedBy(null!==(Y=n[H.name])&&void 0!==Y?Y:0))})):G[H.name]={name:H.name,value:new m.O(H.value).dividedBy(new m.O(10).pow(i[H.name].decimals)),price:new m.O(H.value).dividedBy(new m.O(10).pow(i[H.name].decimals)).multipliedBy(null!==(z=n[H.name])&&void 0!==z?z:0)};e.next=45;break;case 41:e.prev=41,e.t2=e.catch(37),Z=!0,V=e.t2;case 45:e.prev=45,e.prev=46,D||null==R.return||R.return();case 48:if(e.prev=48,!Z){e.next=51;break}throw V;case 51:return e.finish(48);case 52:return e.finish(45);case 53:X=Object.values(G);case 54:X.length>0&&X.sort((function(e,t){return t.price.minus(e.price).toNumber()})),M&&O.push({tokenA:M.token1.symbol,tokenB:M.token2.symbol,poolType:M.type,apr:new m.O(q.apr).isFinite()?new m.O(q.apr):new m.O(0),futureApr:new m.O(q.futureApr).isFinite()?new m.O(q.futureApr):new m.O(0),boostedApr:new m.O(q.apr).isFinite()?new m.O(q.apr).multipliedBy(2.5):new m.O(0),volume:new m.O(P.volume24H.value),volumeTokenA:new m.O(P.volume24H.token1),volumeTokenB:new m.O(P.volume24H.token2),tvl:new m.O(P.tvl.value),tvlTokenA:new m.O(P.tvl.token1),tvlTokenB:new m.O(P.tvl.token2),fees:new m.O(P.fees7D.value),feesTokenA:new m.O(P.fees7D.token1),feesTokenB:new m.O(P.fees7D.token2),bribeUSD:F,bribes:X,isLiquidityAvailable:new m.O(I.lqtBalance).isGreaterThan(0),isStakeAvailable:new m.O(I.stakedBalance).isGreaterThan(0),isGaugeAvailable:!!M.gauge});case 56:E++,e.next=27;break;case 59:return e.abrupt("return",{success:!0,allData:O});case 62:return e.prev=62,e.t3=e.catch(0),console.log(e.t3),e.abrupt("return",{success:!1,allData:[],error:e.t3.message});case 66:case"end":return e.stop()}}),e,null,[[0,62],[37,41,45,53],[46,,48,52]])})));return function(t,n,o){return e.apply(this,arguments)}}(),B=function(){var e=y(u().mark((function e(t){var n,o,r,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.h.getState(),o=n.config.AMMs,r=[],a=Object.values(o).filter((function(e){return void 0===e.gauge})),e.next=7,Promise.all(a.map((function(e){return(0,h.UU)(e.token1.symbol,e.token2.symbol,t)})));case 7:return i=e.sent,a.forEach((function(e,t){var n=i[t];n.success&&new m.O(n.balance).isGreaterThan(0)&&r.push({amm:e.address,lqtBalance:n.balance,stakedBalance:"0",derivedBalance:"0",boostTokenId:"0",poolAPR:{current:"0",future:"0"}})})),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();function C(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){C(a,o,r,i,s,"next",e)}function s(e){C(a,o,r,i,s,"throw",e)}i(void 0)}))}}var I=function(e,t,n,o){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,d.useQuery)(["all-pools",t],E(u().mark((function n(){var o,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(e,t);case 2:return o=n.sent,r=o.allData,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)}))),{refetchInterval:3e4,cacheTime:3e4,keepPreviousData:!0})}(e,o),a=r.data,i=void 0===a?[]:a,s=r.isFetched;return i.length&&t?{data:i.filter((function(e){return e.poolType===t})),isFetched:s}:{data:i,isFetched:s}},M=function(e,t,n,o){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.useQuery)(["my-pools",n],E(u().mark((function o(){var r,a;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,L(e,t,n);case 2:return r=o.sent,a=r.allData,o.abrupt("return",a);case 5:case"end":return o.stop()}}),o)}))),{refetchInterval:3e4,cacheTime:3e4,keepPreviousData:!0})}(e,t,0),a=r.data;return{data:void 0===a?[]:a,isFetched:r.isFetched}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=(0,r.useState)(e),a=o[0],i=o[1];return(0,r.useEffect)((function(){return i(e)}),[e.length]),(0,r.useEffect)((function(){if(t&&t.length){var n=e.filter((function(e){return e.tokenA.toLowerCase().includes(t.trim().toLowerCase())||e.tokenB.toLowerCase().includes(t.trim().toLowerCase())||"xtz"===t.toLowerCase()&&e.tokenA.toLowerCase().search(/\btez\b/)>=0||"tez"===t.toLowerCase()&&e.tokenA.toLowerCase().search(/\bxtz\b/)>=0||"tez"===t.toLowerCase()&&e.tokenB.toLowerCase().search(/\bxtz\b/)>=0||"xtz"===t.toLowerCase()&&e.tokenB.toLowerCase().search(/\btez\b/)>=0}));i(n)}else i(e)}),[t]),[a,n]},P=n(43501),F=n(11802),X=n(98764),G=n(82004),D=n(83164),Z=n(92322),V=n(34362);function R(e){return(0,o.jsxs)("div",{className:" md:text-f14 text-f12 cursor-pointer text-text-50 py-[3px] text-right ",children:[Number(e.futureApr)>0?e.futureApr.isLessThan(.01)?"<0.01":(0,V.ZP)(e.futureApr):"0.00","%"]})}var U=n(25675),H=n.n(U),_=n(23363),W=n(48093);function Y(e){return(0,o.jsx)(_.eE,{position:_.Ly.top,toolTipChild:(0,o.jsxs)("div",{className:"flex flex-col gap-[7pxS] text-text-500 font-normal text-f14 p-1",children:[(0,o.jsxs)("div",{children:["Current APR :"," ",(0,o.jsxs)("span",{className:"font-semibold text-white",children:[e.currentApr.toFixed(2),"%"]})]}),(0,o.jsxs)("div",{children:["Boosted APR :"," ",(0,o.jsxs)("span",{className:"font-semibold text-white",children:[e.boostedApr.toFixed(2),"%"]})]})]}),children:(0,o.jsxs)("div",{className:e.isMobile?"flex  flex-col cursor-pointer gap-[7px]":"flex  items-center cursor-pointer",children:[(0,o.jsxs)("div",{className:"bg-muted-200 md:text-f14 text-f12 cursor-pointer text-text-50 border-border-500 rounded-lg py-[3px] px-2 ",children:[(0,V.ZP)(e.currentApr),"%"]}),(0,o.jsxs)("div",{className:"md:text-f14 text-f12 rounded-lg px-2 cursor-pointer border border-border-500 text-white py-[3px]  pr-0\n            flex \n          ",children:[" ",(0,V.ZP)(e.boostedApr),"%",(0,o.jsx)(H(),{width:20,height:20,src:W.Z})]})]})})}var z=n(31444),$=n(26938);function J(e){return(0,o.jsx)("div",{className:"text-f14 text-white cursor-pointer",children:e.text.toString()})}function Q(e){var t=function(e){return"tez"===e.trim().toLowerCase()||"ctez"===e.trim().toLowerCase()};return(0,o.jsx)(_.eE,{position:_.Ly.top,toolTipChild:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1",children:[(0,o.jsx)("div",{className:"text-white font-medium pr-1 ",children:e.token1}),(0,o.jsx)("div",{className:"".concat(t(e.token1Name)?"uppercase":""),children:e.token1Name})]}),(0,o.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1",children:[(0,o.jsx)("div",{className:"text-white font-medium pr-1",children:e.token2}),(0,o.jsx)("div",{className:"".concat(t(e.token2Name)?"uppercase":""),children:e.token2Name})]})]}),children:(0,o.jsx)(J,{text:e.text})})}var K=n(15717),ee=n(61831),te=n(18701),ne=n(86010);function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e){var t=function(e){return(0,o.jsx)("div",{className:"pl-0 pr-1 md:pr-0 md:pl-0",children:(0,o.jsx)("div",{className:"bg-primary-red/10 font-caption2 md:font-subtitle4 hover:bg-primary-red/20 cursor-pointer text-primary-white px-5 md:px-7 py-2 rounded-lg",onClick:function(){n&&i((0,F.j)()),e.setIsGaugeAvailable(e.isGauge),e.isGauge&&e.isLiquidityAvailable?e.isStakeAvailable?N(ee.$_.Rewards):N(ee.$_.Staking):N(ee.$_.Liquidity),J({name:e.tokenA,image:E(e.tokenA.toString()),symbol:e.tokenA}),ie({name:e.tokenB,image:E(e.tokenB.toString()),symbol:e.tokenB}),e.setShowLiquidityModal(!0)},children:"Manage"})})},n=(0,v.CG)((function(e){return e.wallet.address})),i=(0,a.I0)(),c=(0,P.N)().valueFormat,u=(0,v.CG)((function(e){return e.tokenPrice.tokenPrice})),d=((0,v.CG)((function(e){return e.walletLoading.scrollY})),(0,v.CG)((function(e){return e.walletLoading.height})),(0,v.CG)((function(e){return e.walletLoading.clientHeight})),(0,r.useState)(!1)),p=(d[0],d[1],(0,r.useState)(!1)),f=(p[0],p[1],(0,r.useState)(!1)),m=(f[0],f[1],(0,r.useState)(!1)),h=(m[0],m[1],(0,r.useState)(!1)),x=(h[0],h[1],(0,r.useState)(1)),g=(x[0],x[1],I(u,e.poolsFilter,e.reFetchPool,0)),b=g.data,k=void 0===b?[]:b,w=g.isFetched,y=void 0!==w&&w,S=re(q(k,e.searchValue,y,k.length),2),A=S[0],T=S[1],j=re(r.useState(ee.$_.Liquidity),2),O=j[0],N=j[1],L=re(r.useState(!1),2),B=L[0],C=L[1],E=function(e,t){return t?"/assets/tokens/".concat(e,".svg"):e?"/assets/tokens/".concat(e.toLowerCase(),".png"):""},M=r.useMemo((function(){return n&&e.activeStateTab===s.bJ.Mypools&&T&&!e.isFetching?(0,o.jsx)($.ld,{setActiveStateTab:e.setActiveStateTab}):0===A.length&&e.isError&&!e.isFetching?(0,o.jsx)($.J,{content:"Server down"}):0===A.length&&""!==e.searchValue&&T&&!e.isFetching?(0,o.jsx)(Z.p,{}):0!==A.length||e.isFetching?void 0:(0,o.jsx)($.J,{content:"No Pools data"})}),[n,A,T,e.isFetching]),U=re(r.useState({name:"USDC.e",image:"/assets/tokens/USDC.e.png",symbol:"USDC.e"}),2),W=U[0],J=U[1],oe=re(r.useState({name:"USDT.e",image:"/assets/tokens/USDT.e.png",symbol:"USDT.e"}),2),ae=oe[0],ie=oe[1],se=r.useMemo((function(){return[{Header:"Pools",id:"pools",columnWidth:"w-[160px]",showOnMobile:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tokenA",!0)},accessor:function(e){return(0,o.jsxs)("div",{className:"flex gap-1 items-center max-w-[180px]",children:[(0,o.jsx)(z.AE,{tokenA:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenB.toString():e.tokenA.toString(),tokenB:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenA.toString():e.tokenB.toString(),src1:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?E(e.tokenB.toString()):E(e.tokenA.toString()),src2:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?E(e.tokenA.toString()):E(e.tokenB.toString())}),(0,o.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,o.jsx)("span",{className:"md:text-f14 text-f12 text-white ",children:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?" ".concat((0,V.Xf)(e.tokenB.toString())," / ").concat((0,V.Xf)(e.tokenA.toString())):" ".concat((0,V.Xf)(e.tokenA.toString())," / ").concat((0,V.Xf)(e.tokenB.toString()))}),(0,o.jsxs)("span",{className:"text-f12 text-text-500",children:[e.poolType," Pool"]})]})]})}},{Header:"APR",id:"apr",subText:"current epoch",columnWidth:"w-[130px]",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",sortType:function(e,t){return(0,X.aS)(e,t,"apr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(Y,{currentApr:e.apr,boostedApr:e.boostedApr,isMobile:!0}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"APR",id:"apr1",columnWidth:"w-[90px] pr-2.5",subText:"next epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"futureApr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(R,{futureApr:e.futureApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"",id:"manage",columnWidth:"w-[115px] ml-auto",accessor:function(n){return(0,o.jsx)(t,{isLiquidityAvailable:!1,isStakeAvailable:!1,tokenA:n.tokenA.toString(),tokenB:n.tokenB.toString(),setShowLiquidityModal:e.setShowLiquidityModal,isGauge:n.isGaugeAvailable,setIsGaugeAvailable:C})}}]}),[c]),le=r.useMemo((function(){return[{Header:"Pools",id:"pools",columnWidth:"w-[220px]",canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tokenA",!0)},accessor:function(e){return(0,o.jsxs)(o.Fragment,{children:[e.isGaugeAvailable?null:(0,o.jsx)(_.eE,{id:"tooltipM",position:_.Ly.top,toolTipChild:(0,o.jsx)("div",{className:"",children:"No gauge for the pool"}),children:(0,o.jsx)(H(),{src:te.Z,width:"20px",height:"20px",className:"cursor-pointer"})}),(0,o.jsxs)("div",{className:(0,ne.default)("flex gap-1 items-center max-w-[200px]",e.isGaugeAvailable?"ml-[34px]":"ml-[14px]"),children:[(0,o.jsx)(z.AE,{tokenA:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenB.toString():e.tokenA.toString(),tokenB:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenA.toString():e.tokenB.toString(),src1:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?E(e.tokenB.toString()):E(e.tokenA.toString()),src2:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?E(e.tokenA.toString()):E(e.tokenB.toString())}),(0,o.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,o.jsx)("span",{className:"md:text-f14 text-f12 text-white ",children:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?" ".concat((0,V.Xf)(e.tokenB.toString())," / ").concat((0,V.Xf)(e.tokenA.toString())):" ".concat((0,V.Xf)(e.tokenA.toString())," / ").concat((0,V.Xf)(e.tokenB.toString()))}),(0,o.jsxs)("span",{className:"text-f12 text-text-500 progTitle",children:[e.poolType," Pool"]})]})]})]})}},{Header:"APR",id:"apr",columnWidth:"w-[210px]",subText:"current epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"apr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(Y,{currentApr:e.apr,boostedApr:e.boostedApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"APR",id:"apr1",columnWidth:"w-[110px]",subText:"next epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"futureApr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(R,{futureApr:e.futureApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"Volume",id:"Volume24h",subText:"24h",columnWidth:"w-[129px]",isToolTipEnabled:!0,tooltipMessage:"Pool\u2019s trading volume in the last 24 hours.",canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"volume")},accessor:function(e){return(0,o.jsx)(Q,{text:c(e.volume.toNumber()),token1:e.volumeTokenA.toString(),token2:e.volumeTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"TVL",id:"TVL",columnWidth:"w-[122px]",tooltipMessage:"Total value locked up in the pool.",isToolTipEnabled:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tvl")},accessor:function(e){return(0,o.jsx)(Q,{text:c(e.tvl.toNumber()),token1:e.tvlTokenA.toString(),token2:e.tvlTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"Fees",id:"fees",columnWidth:"w-[122px]",subText:"7D",tooltipMessage:"Trading fees collected by the pool in the current epoch.",isToolTipEnabled:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"fees")},accessor:function(e){return(0,o.jsx)(Q,{text:c(e.fees.toNumber()),token1:e.feesTokenA.toString(),token2:e.feesTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"Bribes",id:"Bribes",canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"bribeUSD")},subText:"current epoch",columnWidth:"w-[123px] pr-2.5",tooltipMessage:"Incentives provided by the protocols to boost the liquidity of their tokens.",isToolTipEnabled:!0,accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(G.C,{value:e.bribeUSD,bribesData:e.bribes}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"",id:"manage",sticky:"right",columnWidth:"w-[160px] ml-auto",minWidth:151,accessor:function(n){return(0,o.jsx)(t,{isLiquidityAvailable:!1,isStakeAvailable:!1,tokenA:n.tokenA.toString(),tokenB:n.tokenB.toString(),setShowLiquidityModal:e.setShowLiquidityModal,isGauge:n.isGaugeAvailable,setIsGaugeAvailable:C})}}]}),[c]);return(0,o.jsxs)(o.Fragment,{children:[e.showLiquidityModal&&(0,o.jsx)(K._,{tokenIn:W,tokenOut:ae,closeFn:e.setShowLiquidityModal,setActiveState:N,activeState:O,isGaugeAvailable:B,showLiquidityModal:e.showLiquidityModal,setShowLiquidityModalPopup:e.setShowLiquidityModalPopup,filter:e.poolsFilter}),(0,o.jsx)("div",{className:" overflow-x-auto innerPool  ".concat(e.className),children:(0,o.jsx)(D.Z,{columns:l.tq?se:le,data:A,shortby:"fees",TableName:"newPools",tableType:!0,isFetched:T,isConnectWalletRequired:e.isConnectWalletRequired,TableWidth:"min-w-[535px] lg:min-w-[1140px]",NoData:M,loading:e.isFetching})})]})}var ie=n(92170),se=n(52767),le=n(75528),ce=n(12619),ue=n(93213),de=n(8292),pe=n(67445),fe=n(31467),me=n(12982),he=n(4126),xe=n(1255),ge=n(37837),ve=n(23581),be=n(91487),ke=n(89532),we=n(3556),ye=n(56648),Se=n(60291),Ae=n(29290),Te={src:"/_next/static/media/newpool-check.13986ead.svg",height:16,width:16};function je(){return(0,o.jsxs)("div",{className:"px-2 mb-4",children:[(0,o.jsxs)("div",{className:"font-body4 mt-[16px]",children:["Please go through the following points carefully before adding a pool."," "]}),(0,o.jsxs)("div",{className:"flex font-body3 text-text-50 mt-3",children:[(0,o.jsx)("span",{className:"relative top-0.5 w-[50px] md:w-[30px] h-[15px]",children:(0,o.jsx)(H(),{src:Te,width:"14px",height:"14px"})}),(0,o.jsxs)("span",{className:"ml-1",children:["New pools are not attached to the vote-escrow system by default. Please raise an attachment request in"," ",(0,o.jsx)("a",{href:"https://discord.com/invite/9wZ4CuvkuJ",target:"_blank",rel:"noreferrer",children:(0,o.jsx)("i",{className:"text-primary-white ml-0.5",children:"#gauge-requests"})})," ","channel."," "]})]}),(0,o.jsxs)("div",{className:"flex font-body3 text-text-50 mt-1",children:[(0,o.jsx)("span",{className:"relative top-0.5 w-[18px] md:w-[15px] h-[15px]",children:(0,o.jsx)(H(),{src:Te,width:"14px",height:"14px"})}),(0,o.jsx)("span",{className:"ml-[6px]",children:"Trading fees for both stable and volatile swaps is 0.05%"})]}),(0,o.jsxs)("div",{className:"flex font-body3 text-text-50 mt-1",children:[(0,o.jsx)("span",{className:"relative top-0.5 w-[28px] md:w-[20px] h-[15px]",children:(0,o.jsx)(H(),{src:Te,width:"14px",height:"14px"})}),(0,o.jsx)("span",{className:"ml-0.5",children:"It may take a few minutes for the new pool to show up."})]}),(0,o.jsxs)("div",{className:"flex font-body3 text-text-50 mt-1",children:[(0,o.jsx)("span",{className:"relative top-0.5 w-[28px] md:w-[20px] h-[15px]",children:(0,o.jsx)(H(),{src:Te,width:"14px",height:"14px"})}),(0,o.jsx)("span",{className:"ml-0.5",children:"You should have at least 5 tez in your wallet to pay for storage fees."})]}),(0,o.jsxs)("div",{className:"flex font-body3 text-text-50 mt-1",children:[(0,o.jsx)("span",{className:"relative top-0.5 w-[28px] md:w-[20px] h-[15px]",children:(0,o.jsx)(H(),{src:Te,width:"14px",height:"14px"})}),(0,o.jsx)("span",{className:"ml-[6px]",children:"For TEZ pools, 60% of baking rewards is used for bribing, 25% goes to the team and 15% to the treasury."})]})]})}var Oe=n(43327);function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){var t=Le(r.useState(!1),2),n=(t[0],t[1],(0,r.useState)("0.5")),a=n[0],i=n[1],s=(0,v.CG)((function(e){return e.config.tokens})),l=((0,v.CG)((function(e){return e.tokenPrice.tokenPrice})),(0,v.CG)((function(e){return e.wallet.address})),(0,r.useState)("")),c=l[0],u=l[1],d=Le(r.useState(""),2),p=d[0],f=d[1],x=Le(r.useState(""),2),g=x[0],k=x[1],w=(0,r.useState)(!0),y=w[0],S=w[1],A=(0,r.useState)(!1),T=A[0],j=A[1],O=Le(r.useState(""),2),N=O[0],L=O[1],B=(0,r.useState)(""),C=B[0],E=B[1],I=(0,r.useState)({tokenOneAmount:"",tokenTwoAmount:""}),M=I[0],q=I[1],P=(0,v.CG)((function(e){return e.config.tokens})),F=(0,v.CG)((function(e){return e.wallet.address})),X=Object.entries(P),G=(0,v.TL)(),D=function(e){E(e),U(!0)},Z=(0,r.useState)(!1),R=Z[0],U=Z[1],W=(0,r.useState)(!1),Y=W[0],z=W[1],$=(0,r.useState)(""),J=$[0],Q=($[1],(0,r.useState)(!1)),K=Q[0],ee=(Q[1],(0,r.useState)(!1)),te=ee[0],ne=ee[1],oe=(0,r.useState)(""),re=(oe[0],oe[1]),ae=Le(r.useState({}),2),ie=ae[0],se=ae[1],ce=Le(r.useState({}),2),ue=ce[0],de=ce[1],Te=Le(r.useState({}),2),Ne=Te[0],Be=Te[1],Ce=Le(r.useState({}),2),Ee=Ce[0],Ie=Ce[1],Me=(0,r.useState)(!1),qe=Me[0],Pe=Me[1],Fe=(0,r.useState)("tokenIn"),Xe=Fe[0],Ge=Fe[1],De=function(){Pe(!1),He("")},Ze=function(){e.setShow(!1),se({}),de({}),f(""),k(""),u("")},Ve=function(){Ze(),u(""),f(""),k(""),z(!1)},Re=(0,r.useState)(""),Ue=Re[0],He=Re[1],_e=(0,r.useState)({success:!1,allTokensBalances:{}}),We=_e[0],Ye=_e[1];(0,r.useEffect)((function(){e.show&&F?(0,h.b1)(Object.values(P),F).then((function(e){console.log("newpool",e),Ye(e)})):Ye({success:!1,allTokensBalances:{}})}),[F,s,Y,ie.name,ue.name,e.show]);var ze=(0,r.useState)({}),$e=ze[0],Je=ze[1];(0,r.useEffect)((function(){""!==Ue&&Ue.length>8&&(0,me.n)(Ue.trim()).then((function(e){0!==e.allTokensList.length&&(0,h.b1)(e.allTokensList,F).then((function(e){Je(e.allTokensBalances)}))}))}),[Ue]);var Qe=(0,r.useMemo)((function(){return X.map((function(e){return{name:e[0],image:"/assets/Tokens/".concat(e[1].symbol,".png"),chainType:e[1].originChain,address:e[1].address,interface:e[1]}}))}),[P]),Ke=(0,r.useState)(!1),et=Ke[0],tt=Ke[1];(0,r.useEffect)((function(){et&&G((0,le.iE)())}),[et]),(0,r.useEffect)((function(){Object.keys(We),0!==length&&We.success&&0!==Object.keys(We.allTokensBalances).length&&Qe.sort((function(e,t){var n,o,r,a;return Number((null===(n=We.allTokensBalances[t.name])||void 0===n?void 0:n.balance)?null===(o=We.allTokensBalances[t.name])||void 0===o?void 0:o.balance:0)-Number((null===(r=We.allTokensBalances[e.name])||void 0===r?void 0:r.balance)?null===(a=We.allTokensBalances[e.name])||void 0===a?void 0:a.balance:0)}))}),[Qe,We.allTokensBalances]),(0,r.useEffect)((function(){u(""),"XTZ"===ie.name&&"CTez"!==ue.name||"XTZ"===ue.name&&"CTez"!==ie.name?u(Ae.sO.VOLATILE):("XTZ"===ie.name&&"CTez"===ue.name||"XTZ"===ue.name&&"CTez"===ie.name)&&u(Ae.sO.STABLE)}),[ie.name,ue.name]);return(0,o.jsxs)(o.Fragment,{children:[e.show&&(0,o.jsx)(we.H,{onhide:Ze,className:"w-[390px] max-w-[390px] sm:w-[620px] sm:max-w-[620px] rounded-none sm:rounded-3xl ",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex ",children:[(0,o.jsx)("div",{className:"mx-2 text-white font-title3",children:"Add new pool"}),(0,o.jsx)("div",{className:"relative top-[2px]",children:(0,o.jsx)(_.eE,{id:"tooltip2",position:_.Ly.top,toolTipChild:(0,o.jsx)("div",{className:"w-[100px] md:w-[250px]",children:"Create a new liquidity pool for a token pair."}),children:(0,o.jsx)(H(),{alt:"alt",src:fe.Z,className:"cursor-pointer"})})})]}),(0,o.jsx)("div",{className:"flex gap-1",children:(0,o.jsx)("p",{className:"ml-1 relative top-[6px]"})}),(0,o.jsx)(je,{}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(Ae.ZP,{setShowConfirmPool:ne,firstTokenAmount:p,secondTokenAmount:g,userBalances:We.allTokensBalances,setShowLiquidityModalPopup:e.setShowLiquidityModalPopup,setSecondTokenAmount:k,setFirstTokenAmount:f,tokenIn:ie,tokenOut:ue,setIsAddLiquidity:S,isAddLiquidity:y,pnlpBalance:J,setBurnAmount:L,burnAmount:N,setRemoveTokenAmount:q,removeTokenAmount:M,setSlippage:i,slippage:a,isLoading:K,handleTokenType:function(e){z(!1),Pe(!0),Ge(e)},setPair:u,pair:c,setShowLiquidityModal:e.setShowLiquidityModal,showLiquidityModal:e.showLiquidityModal,contractTokenBalance:$e})})]})}),te&&(0,o.jsx)(Se.Z,{show:te,pair:c,setShow:ne,tokenIn:ie,tokenOut:ue,firstTokenAmount:p,secondTokenAmount:g,onClick:function(){ne(!1),localStorage.setItem(pe.lo,(0,V.Xf)(ie.name)),localStorage.setItem(pe.Ud,(0,V.Xf)(ue.name)),localStorage.setItem(pe.qq,c===Ae.sO.VOLATILE?"volatile":"stable"),re("new pool"),G((0,ve.AM)({isLoading:!0,operationSuccesful:!1})),e.setReFetchPool(!1),tt(!1),j(!0),c===Ae.sO.VOLATILE&&"XTZ"!==ie.name&&"XTZ"!==ue.name?(0,xe.vM)(Ne,Ee,F,new m.O(p),new m.O(g),D,Ve,j,{flashType:ke.Y.Info,headerText:"Transaction submitted",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(t){t.success?(Ze(),z(!0),Ve(),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Success,headerText:"Success",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(b.lu).concat(t.operationId?t.operationId:""),"_blank")},transactionId:t.operationId?t.operationId:""})),tt(!0)}),6e3),setTimeout((function(){e.setReFetchPool(!0)}),7e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re("")):(z(!0),Ze(),j(!1),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"",isLoading:!0}))}),2e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re(""))})):c!==Ae.sO.VOLATILE||"XTZ"!==ie.name&&"XTZ"!==ue.name?c===Ae.sO.STABLE&&(0,xe.Gz)(Ne,Ee,F,new m.O(p),new m.O(g),D,Ve,j,{flashType:ke.Y.Info,headerText:"Transaction submitted",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(e){e.success?(Ze(),z(!0),Ve(),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Success,headerText:"Success",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(b.lu).concat(e.operationId?e.operationId:""),"_blank")},transactionId:e.operationId?e.operationId:""}))}),6e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re("")):(Ze(),z(!0),Ve(),j(!1),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"",isLoading:!0}))}),2e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re(""))})):(0,xe.NC)(Ne,Ee,F,new m.O(p),new m.O(g),D,Ve,j,{flashType:ke.Y.Info,headerText:"Transaction submitted",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(t){t.success?(Ze(),z(!0),Ve(),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Success,headerText:"Success",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(b.lu).concat(t.operationId?t.operationId:""),"_blank")},transactionId:t.operationId?t.operationId:""})),tt(!0)}),6e3),setTimeout((function(){e.setReFetchPool(!0)}),7e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re("")):(z(!0),Ze(),j(!1),setTimeout((function(){U(!1),G((0,ge.XV)({flashType:ke.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool"),linkText:"",isLoading:!0}))}),2e3),G((0,ve.AM)({isLoading:!1,operationSuccesful:!0})),re(""))}))},routeDetails:{}}),(0,o.jsx)(Oe.Z,{tokens:Qe.filter((function(e){return e.name.toLowerCase()!==he.kc.KODEX.toLowerCase()&&e.name.toLowerCase()!==he.kc.WRAP.toLowerCase()})),show:qe,isLoading:We.success,allBalance:We.allTokensBalances,selectToken:function(e){"tokenOut"!==Xe&&"tokenIn"!==Xe||""===p||k(""),"tokenIn"===Xe?(Be(e.interface),se({name:e.name,symbol:e.name,image:e.image})):(Ie(e.interface),de({name:e.name,symbol:e.name,image:e.image})),De()},onhide:De,tokenIn:ie,tokenOut:ue,tokenType:Xe,searchQuery:Ue,setSearchQuery:He}),T&&(0,o.jsx)(be.Z,{show:T,setShow:j,content:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool")}),R&&(0,o.jsx)(ye.Z,{show:R,setShow:U,onBtnClick:C?function(){return window.open("".concat(b.lu).concat(C),"_blank")}:null,content:"Addition of new ".concat(localStorage.getItem(pe.lo),"/").concat(localStorage.getItem(pe.Ud)," ").concat(localStorage.getItem(pe.qq)," pool")})]})}var Ce,Ee=n(83110);function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e){var t=function(e){return(0,o.jsx)("div",{className:"pl-0 pr-1 md:pr-0 md:pl-0",children:(0,o.jsx)("div",{className:"bg-primary-red/10 font-caption2 md:font-subtitle4 hover:bg-primary-red/20 cursor-pointer text-primary-white px-5 md:px-7 py-2 rounded-lg",onClick:function(){c((0,F.j)()),e.setIsGaugeAvailable(e.isGauge),e.isGauge&&e.isLiquidityAvailable?e.isStakeAvailable?y(ee.$_.Rewards):y(ee.$_.Staking):y(ee.$_.Liquidity),e.setShowLiquidityModal(!0),B({name:e.tokenA,image:j(e.tokenA.toString()),symbol:e.tokenA}),I({name:e.tokenB,image:j(e.tokenB.toString()),symbol:e.tokenB})},children:"Manage"})})},n=(0,v.CG)((function(e){return e.wallet.address})),i=((0,v.CG)((function(e){return e.config.tokens})),(0,v.CG)((function(e){return e.tokenPrice.tokenPrice}))),c=(0,a.I0)(),u=(0,P.N)().valueFormat,d=M(n,i,e.poolsFilter,e.reFetchPool),p=d.data,f=void 0===p?[]:p,m=d.isFetched,h=void 0!==m&&m,x=Me(q(f,e.searchValue,h,f.length),2),g=x[0],b=x[1],k=Me(r.useState(ee.$_.Liquidity),2),w=k[0],y=k[1],S=Me(r.useState(!1),2),A=S[0],T=S[1],j=function(e,t){return t?"/assets/tokens/".concat(e,".svg"):e?"/assets/tokens/".concat(e.toLowerCase(),".png"):""},O=r.useMemo((function(){return n&&e.activeStateTab===s.bJ.Mypools&&b&&!e.isFetchingMyPool?(0,o.jsx)($.ld,{setActiveStateTab:e.setActiveStateTab}):0===g.length&&""!==e.searchValue&&b&&!e.isFetchingMyPool?(0,o.jsx)(Z.p,{}):void 0}),[n,g,b,e.isFetchingMyPool]),N=Me(r.useState({name:"USDC.e",image:"/assets/tokens/USDC.e.png",symbol:"USDC.e"}),2),L=N[0],B=N[1],C=Me(r.useState({name:"USDT.e",image:"/assets/tokens/USDT.e.png",symbol:"USDT.e"}),2),E=C[0],I=C[1],U=r.useMemo((function(){return[{Header:"Pools",id:"pools",columnWidth:"w-[130px]",showOnMobile:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tokenA",!0)},accessor:function(e){return(0,o.jsxs)("div",{className:"flex gap-1 items-center max-w-[183px]",children:[(0,o.jsx)(z.AE,{tokenA:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenB.toString():e.tokenA.toString(),tokenB:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenA.toString():e.tokenB.toString(),src1:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?j(e.tokenB.toString()):j(e.tokenA.toString()),src2:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?j(e.tokenA.toString()):j(e.tokenB.toString())}),(0,o.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,o.jsx)("span",{className:"md:text-f14 text-f12 text-white ",children:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?" ".concat((0,V.Xf)(e.tokenB.toString())," / ").concat((0,V.Xf)(e.tokenA.toString())):" ".concat((0,V.Xf)(e.tokenA.toString())," / ").concat((0,V.Xf)(e.tokenB.toString()))}),(0,o.jsxs)("span",{className:"text-f12 text-text-500",children:[e.poolType," Pool"]})]})]})}},{Header:"APR",id:"apr",subText:"current epoch",columnWidth:"w-[130px]",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",sortType:function(e,t){return(0,X.aS)(e,t,"apr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(Y,{currentApr:e.apr,boostedApr:e.boostedApr,isMobile:!0}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"APR",id:"apr1",columnWidth:"w-[90px] pr-2.5",subText:"next epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"futureApr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(R,{futureApr:e.futureApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"",id:"manage",columnWidth:"w-[115px] ml-auto",accessor:function(n){return(0,o.jsx)(t,{isLiquidityAvailable:n.isLiquidityAvailable,isStakeAvailable:n.isStakeAvailable,tokenA:n.tokenA.toString(),tokenB:n.tokenB.toString(),setShowLiquidityModal:e.setShowLiquidityModal,isGauge:n.isGaugeAvailable,setIsGaugeAvailable:T})}}]}),[u]),W=r.useMemo((function(){return[{Header:"Pools",id:"pools",columnWidth:"w-[220px]",canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tokenA",!0)},accessor:function(e){return(0,o.jsxs)(o.Fragment,{children:[e.isGaugeAvailable?null:(0,o.jsx)(_.eE,{id:"tooltipM",position:_.Ly.top,toolTipChild:(0,o.jsx)("div",{className:"",children:"No gauge for the pool"}),children:(0,o.jsx)(H(),{src:te.Z,width:"20px",height:"20px",className:"cursor-pointer"})}),(0,o.jsxs)("div",{className:(0,ne.default)("flex gap-1 items-center max-w-[200px]",e.isGaugeAvailable?"ml-[34px]":"ml-[14px]"),children:[(0,o.jsx)(z.AE,{tokenA:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenB.toString():e.tokenA.toString(),tokenB:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?e.tokenA.toString():e.tokenB.toString(),src1:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?j(e.tokenB.toString()):j(e.tokenA.toString()),src2:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?j(e.tokenA.toString()):j(e.tokenB.toString())}),(0,o.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,o.jsx)("span",{className:"md:text-f14 text-f12 text-white ",children:"CTEZ"===(0,V.Xf)(e.tokenA.toString())?" ".concat((0,V.Xf)(e.tokenB.toString())," / ").concat((0,V.Xf)(e.tokenA.toString())):" ".concat((0,V.Xf)(e.tokenA.toString())," / ").concat((0,V.Xf)(e.tokenB.toString()))}),(0,o.jsxs)("span",{className:"text-f12 text-text-500 progTitle",children:[e.poolType," Pool"]})]})]})]})}},{Header:"APR",id:"apr",columnWidth:"w-[210px]",subText:"current epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"apr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(Y,{currentApr:e.apr,boostedApr:e.boostedApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"APR",id:"apr1",columnWidth:"w-[110px]",subText:"next epoch",tooltipMessage:"Annual percentage rate of return on your staked liquidity position.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,X.aS)(e,t,"futureApr")},accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(R,{futureApr:e.futureApr}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"Volume",id:"Volume24h",subText:"24h",columnWidth:"w-[129px]",isToolTipEnabled:!0,tooltipMessage:"Pool\u2019s trading volume in the last 24 hours.",canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"volume")},accessor:function(e){return(0,o.jsx)(Q,{text:u(e.volume.toNumber()),token1:e.volumeTokenA.toString(),token2:e.volumeTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"TVL",id:"TVL",columnWidth:"w-[122px]",tooltipMessage:"Total value locked up in the pool.",isToolTipEnabled:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"tvl")},accessor:function(e){return(0,o.jsx)(Q,{text:u(e.tvl.toNumber()),token1:e.tvlTokenA.toString(),token2:e.tvlTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"Fees",id:"fees",columnWidth:"w-[122px]",subText:"7D",tooltipMessage:"Trading fees collected by the pool in the current epoch.",isToolTipEnabled:!0,canShort:!0,sortType:function(e,t){return(0,X.aS)(e,t,"fees")},accessor:function(e){return(0,o.jsx)(Q,{text:u(e.fees.toNumber()),token1:e.feesTokenA.toString(),token2:e.feesTokenB.toString(),token1Name:e.tokenA.toString(),token2Name:e.tokenB.toString()})}},{Header:"Bribes",id:"Bribes",subText:"current epoch",columnWidth:"w-[123px] pr-2.5",tooltipMessage:"Incentives provided by the protocols to boost the liquidity of their tokens.",isToolTipEnabled:!0,accessor:function(e){return e.isGaugeAvailable?(0,o.jsx)(G.C,{value:e.bribeUSD,bribesData:e.bribes}):(0,o.jsx)("div",{className:"flex justify-center items-center font-body2 md:font-body4 text-right",children:"-"})}},{Header:"",id:"manage",sticky:"right",columnWidth:"w-[160px] ml-auto",minWidth:151,accessor:function(n){return(0,o.jsx)(t,{isLiquidityAvailable:n.isLiquidityAvailable,isStakeAvailable:n.isStakeAvailable,tokenA:n.tokenA.toString(),tokenB:n.tokenB.toString(),setShowLiquidityModal:e.setShowLiquidityModal,isGauge:n.isGaugeAvailable,setIsGaugeAvailable:T})}}]}),[u]);return(0,o.jsxs)(o.Fragment,{children:[e.showLiquidityModal&&(0,o.jsx)(K._,{tokenIn:L,tokenOut:E,closeFn:e.setShowLiquidityModal,showLiquidityModal:e.showLiquidityModal,setActiveState:y,activeState:w,isGaugeAvailable:A,setShowLiquidityModalPopup:e.setShowLiquidityModalPopup}),(0,o.jsx)("div",{className:" overflow-x-auto inner  ".concat(e.className),children:(0,o.jsx)(D.Z,{columns:l.tq?U:W,data:g,shortby:"fees",TableName:"newPools",tableType:!0,isFetched:b,isConnectWalletRequired:e.isConnectWalletRequired,TableWidth:"min-w-[535px] lg:min-w-[1140px]",NoData:O,loading:e.isFetchingMyPool})})]})}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e){var t=Fe(r.useState(s.bJ.All),2),n=t[0],l=t[1],c=(0,a.I0)(),u=(0,v.CG)((function(e){return e.config.tokens})),d=(0,v.CG)((function(e){return e.pools.totalVotingPowerError})),p=(0,v.CG)((function(e){return e.epoch})).epochFetchError,f=(0,v.CG)((function(e){return e.tokenPrice.tokenPrice})),m=(0,v.CG)((function(e){return e.config.AMMs})),h=Fe(r.useState(!1),2),x=h[0],g=h[1],b=r.useRef(!0),k=r.useRef(!0),w=function(e){g(e)};(0,r.useEffect)((function(){p&&c((0,ce.jJ)())}),[p]),(0,se.Y)((function(){c((0,ce.jJ)())}),6e4);var y=(0,v.CG)((function(e){return e.wallet.address}));(0,r.useEffect)((function(){c((0,de.mg)()),c((0,le.iE)())}),[]),(0,r.useEffect)((function(){y&&(localStorage.setItem(pe.bl,y),c((0,F.j)()))}),[y]),(0,r.useEffect)((function(){y&&d&&c((0,F.j)())}),[d]),(0,r.useEffect)((function(){b.current?b.current=!1:0!==Object.keys(u).length&&c((0,ue.jq)())}),[u]),(0,r.useEffect)((function(){k.current?k.current=!1:0!==Object.keys(f).length&&c((0,ue.GR)(f))}),[f]),(0,r.useEffect)((function(){0!==Object.keys(m).length&&c((0,le.Yb)())}),[m]);var S=Fe(r.useState(""),2),A=S[0],T=S[1],j=Fe(r.useState(!1),2),O=(j[0],j[1],Fe(r.useState(!1),2)),N=O[0],L=O[1],B=Fe(r.useState(!1),2),C=B[0],E=B[1],I=(0,r.useState)(!1),M=I[0],q=(I[1],(0,r.useState)(!1)),P=q[0],X=(q[1],(0,r.useState)(!1)),G=X[0];X[1];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ie.t,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z,{className:"px-2 md:px-3",title:"Pools",toolTipContent:"Watch how to add liquidity, stake, and earn PLY. ",searchValue:A,setSearchValue:T,isFirst:null!==y&&localStorage.getItem(pe.bl)!==y,onClick:function(){L(!0)},videoLink:"HtDOhje7Y5A"}),(0,o.jsx)("div",{className:"my-2 mx-3",children:(0,o.jsx)(Ee.L,{className:(0,ne.default)("md:hidden"),value:A.toString().trim(),onChange:T})}),(0,o.jsx)("div",{className:"sticky top-[-1px] z-10",children:(0,o.jsx)(s.Ol,{activeStateTab:n,setActiveStateTab:l,className:"md:px-3",searchValue:A,setSearchValue:T})}),n===s.bJ.All&&(0,o.jsx)(ae,{className:"md:pl-5 md:py-4 pl-2 py-4",searchValue:A,activeStateTab:n,setShowLiquidityModalPopup:g,setActiveStateTab:l,setShowLiquidityModal:w,showLiquidityModal:x,reFetchPool:C,isFetching:M,isError:P}),n===s.bJ.Stable&&(0,o.jsx)(ae,{className:"md:pl-5 md:py-4 pl-2 py-4",poolsFilter:Ce.STABLE,searchValue:A,activeStateTab:n,setShowLiquidityModalPopup:g,setActiveStateTab:l,setShowLiquidityModal:w,showLiquidityModal:x,reFetchPool:C,isFetching:M,isError:P}),n===s.bJ.Volatile&&(0,o.jsx)(ae,{className:"md:pl-5 md:py-4 pl-2 py-4",poolsFilter:Ce.VOLATILE,searchValue:A,activeStateTab:n,setShowLiquidityModalPopup:g,setActiveStateTab:l,setShowLiquidityModal:w,showLiquidityModal:x,reFetchPool:C,isFetching:M,isError:P}),n===s.bJ.Mypools&&(0,o.jsx)(qe,{className:"md:pl-5 md:py-4 pl-2 py-4",poolsFilter:Ce.MYPOOLS,isConnectWalletRequired:!0,searchValue:A,activeStateTab:n,setShowLiquidityModalPopup:g,setActiveStateTab:l,setShowLiquidityModal:w,showLiquidityModal:x,reFetchPool:C,isFetchingMyPool:G}),(0,o.jsx)(Be,{show:N,setShow:L,setShowLiquidityModal:w,showLiquidityModal:x,setReFetchPool:E,reFetchPool:C,setShowLiquidityModalPopup:g})]})})})}!function(e){e.VOLATILE="VOLATILE",e.STABLE="STABLE",e.MYPOOLS="My pools"}(Ce||(Ce={}))},82004:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var o=n(85893),r=(n(67294),n(23363)),a=n(34362);function i(e){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)(r.eE,{position:r.Ly.top,disable:0===e.bribesData.length,toolTipChild:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-text-200 font-body3 text-right",children:"Breakdown of bribes"}),e.bribesData.map((function(e,t){return(0,o.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1 mt-1 justify-end ",children:[(0,o.jsx)("div",{className:"text-white font-medium pr-1 ",children:null===e||void 0===e?void 0:e.value.toString()}),(0,o.jsx)("div",{className:"",children:null===e||void 0===e?void 0:e.name})]},t)}))]}),children:(0,o.jsxs)("div",{className:"font-body4 cursor-pointer text-white",children:["$",Number(e.value)>0?e.value.isLessThan(.01)?"<0.01":(0,a.ZP)(e.value):"0"]})})})})}},59103:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var o=n(85893),r=n(86010),a=n(25675),i=n.n(a),s=n(67294),l=n(77973),c=n(62210),u=n(77344),d=n(23363);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){(0,c.CG)((function(e){return e.wallet.address}));var t=f(s.useState(!1),2),n=t[0],a=t[1];return(0,o.jsxs)("div",{className:"".concat(e.className," flex h-[68px] justify-between items-center border-b border-b-borderCommon py-2 pt-2 md:pt-2 bg-cardBackGround"),children:[(0,o.jsxs)("div",{className:"flex gap-1",children:[(0,o.jsx)("div",{className:"p-2 text-f18 font-medium text-white",children:e.title?e.title:"Pools"}),(0,o.jsx)(d.eE,{classNameToolTipContainer:"playIconTooltip-right",toolTipChild:e.toolTipContent?(0,o.jsx)("p",{className:"w-[200px] md:w-[312px]",children:e.toolTipContent}):(0,o.jsx)("p",{className:"w-[200px] md:w-[312px]",children:"Watch how to add liquidity, stake, and earn PLY"}),classNameAncorToolTip:"pushtoCenter",isShowInnitially:!!e.isFirst,children:(0,o.jsx)(i(),{src:l.Z,onClick:function(){return a(!0)},height:"28px",width:"28px",className:"cursor-pointer hover:opacity-90"})})]}),n&&(0,o.jsx)(u.K,{closefn:a,linkString:e.videoLink?e.videoLink:"HtDOhje7Y5A"}),"Vote"===e.title?(0,o.jsx)("div",{className:(0,r.default)("ml-auto h-[50px] font-subtitle2 md:font-subtitle4 flex items-center px-4 md:px-[32px] text-primary-white rounded-lg bg-primary-red hover:bg-primary-red/[0.2] mr-4 md:mr-0","cursor-pointer"),onClick:e.handleCreateLock,children:"Create Lock"}):(0,o.jsx)(o.Fragment,{}),"Pools"===e.title?(0,o.jsx)("div",{className:(0,r.default)("ml-auto h-[50px] font-subtitle2 md:font-title3-bold flex items-center px-3 md:px-[32px] text-primary-white rounded-lg bg-primary-red hover:bg-primary-red/[0.2] mr-0","cursor-pointer"),onClick:e.onClick,children:"New pool"}):(0,o.jsx)(o.Fragment,{})]})}}},function(e){e.O(0,[5634,9774,2888,179],(function(){return t=96613,e(e.s=t);var t}));var t=e.O();_N_E=t}]);