(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1786],{75125:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vote",function(){return o(75718)}])},75718:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Ge}});var n=o(34051),r=o.n(n),s=o(85893),i=o(70794),l=o(86010),a=o(25675),c=o.n(a),d=o(67294),u={src:"/_next/static/media/closeBlue.c232ed59.svg",height:26,width:26},m=o(56474),x=o(16110),f=o(45459),h=o(83108),p=o(89374),v=o(85566),b={src:"/_next/static/media/chartMobile.58081409.svg",height:24,width:24},g=o(91487),w=o(89532),N=o(59103),j=o(83110),y=o(92170),k=o(23363),S=o(56648),T=o(62210),P=o(3556),C=o(5152),D=o.n(C),A=o(1994),V=o(63960),E=o(32818);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){var t=function(e){return(0,s.jsx)("div",{onClick:function(){e.onClick(e.text),r(!1)},className:" hover:bg-muted-500 px-2 flex items-center h-[36px] z-10 cursor-pointer",children:e.text})},o=O(d.useState(!1),2),n=o[0],r=o[1],i=d.useRef(null);return(0,E.O)(i,(function(){r(!1)})),(0,s.jsxs)("div",{className:"relative min-w-[76px] md:min-w-[150px] ".concat(e.className),ref:i,children:[(0,s.jsxs)("div",{className:(0,l.default)("bg-text-800/[0.25]  cursor-pointer flex gap-2 md:gap-4 py-2 px-2 md:px-3 md:justify-between border  rounded-lg hover:border-text-700 hover:bg-text-800/[0.25]",n?"bg-muted-500 border-muted-300 hover:bg-muted-500 hover:border-muted-300":"border-text-800 bg-text-800/[0.25] hover:border-text-700 hover:bg-text-800/[0.25]",e.classNameInner),onClick:function(){return e.isDisabled?"":r(!n)},children:[(0,s.jsx)("p",{className:(0,l.default)(" flex gap-1",n?"text-white":"text-text-600"),children:e.selectedText&&e.selectedText.length?(0,s.jsx)("span",{className:"text-white",children:e.selectedText}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"hidden md:block md:font-body4",children:e.title&&e.title})," ",(0,s.jsx)("span",{className:"font-subtitle1 md:hidden md:font-body4",children:e.title&&e.title})]})}),(0,s.jsx)("p",{className:"ml-auto relative -top-0",children:(0,s.jsx)(c(),{src:V.Z,className:n?"rotate-0 ml-auto":"rotate-180 ml-auto"})})]}),n&&!e.isDisabled&&(0,s.jsx)("div",{className:"absolute mt-2 py-2 w-full bg-card-500 border-border-500 border rounded-lg flex flex-col gap-1 z-10",children:e.Options.map((function(o,n){return(0,s.jsx)(t,{onClick:e.onClick,text:o},"".concat(o,"_").concat(n))}))})]})}var L=function(e){return(0,s.jsx)("div",{children:(0,s.jsx)(F,{isDisabled:!e.isSelected,title:"Protocol",Options:e.Options,selectedText:e.selectedDropDown,onClick:e.setSelectedDropDown,className:""})})},B={src:"/_next/static/media/loadingLogo.0fa77e2a.svg",height:20,width:20},M=o(34362),U=D()((function(){return Promise.resolve().then(o.bind(o,1994))}),{loadableGenerated:{webpack:function(){return[1994]}},loading:function(){return(0,s.jsx)(s.Fragment,{})}});function X(e){return(0,s.jsxs)("div",{className:"flex gap-1 items-center text-f12 w-max cursor-pointer",onMouseEnter:function(){return e.onClick()},children:[(0,s.jsx)("div",{className:"w-[15px] h-[15px]",style:{backgroundColor:e.color}}),(0,s.jsx)("div",{children:e.text})]})}var R=function(e){var t=(0,d.useState)("Protocol"),o=t[0],n=t[1],r=(0,d.useState)(),i=r[0],l=r[1],a=(0,d.useState)(0),u=a[0],m=a[1],x=(0,T.CG)((function(e){return e.wallet.address}));return(0,d.useEffect)((function(){e.epochNumber&&(e.selectedDropDown&&""!==e.selectedDropDown.tokenId&&e.selectedDropDown.tokenId.length>0&&"My votes"===o?(0,h.Dq)(e.epochNumber,parseInt(e.selectedDropDown.tokenId)).then((function(e){e.success&&e.isOtherDataAvailable?l(e.topAmmData.concat(e.otherData)):l(e.allData)})):(0,h.cS)(e.epochNumber).then((function(e){e.success&&e.isOtherDataAvailable?l(e.topAmmData.concat(e.otherData)):l(e.allData)})))}),[e.epochNumber,e.selectedDropDown,o,e.castVoteOperation,e.show]),(0,d.useEffect)((function(){n("Protocol")}),[e.epochNumber,x]),(0,s.jsxs)("div",{className:"md:border my-3 pb-3 rounded-xl border-text-800/[0.5] md:bg-card-400 md:py-[26px] md:px-[22px] md:h-[calc(100vh_-_278px)] lg:h-[calc(100vh_-_278px)] lg:min-h-[530px]",children:[(0,s.jsx)("div",{className:"font-body3 text-white pr-2",children:"Voting allocation"}),(0,s.jsx)("div",{className:"font-body3 text-white mt-[18px]",children:(0,s.jsx)(L,{isSelected:!!e.selectedDropDown.tokenId.length,selectedDropDown:o,setSelectedDropDown:n,Options:["My votes","Protocol"]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center mt-5 gap-2 justify-center ",children:[i?(0,s.jsx)(s.Fragment,{children:i.length>0?(0,s.jsx)(U,{piChartData:i,selectedColorIndex:u,setSelectedColorIndex:m}):(0,s.jsx)("div",{className:"min-h-[252px] flex flex-col justify-center items-center ",children:(0,s.jsx)("div",{className:" flex-col felx max-w-[265px] gap-1.5 justify-center items-center text-center",children:"My votes"===o?(0,s.jsx)("div",{className:"text-text-200 font-body4 ",children:"You haven't voted in this epoch"}):(0,s.jsx)("div",{className:"text-text-200 font-body4",children:"No votes in this epoch"})})})}):(0,s.jsx)("div",{className:"h-[252px] flex flex-col justify-center",children:(0,s.jsx)(c(),{alt:"alt",height:50,width:50,src:B,className:"spin"})}),(0,s.jsx)("div",{className:"grid grid-cols-2 justify-between gap-[11px] gap-x-10 w-[300px]",children:i?i.map((function(e,t){var o,n,r,i;return(0,s.jsx)(X,{onClick:function(){return m(t)},text:e.tokenOneSymbol&&e.tokenTwoSymbol?"CTEZ"===(0,M.Xf)(e.tokenOneSymbol)?" ".concat((0,M.Xf)(null===(o=e.tokenTwoSymbol)||void 0===o?void 0:o.toString())," / ").concat((0,M.Xf)(null===(n=e.tokenOneSymbol)||void 0===n?void 0:n.toString())):" ".concat((0,M.Xf)(null===(r=e.tokenOneSymbol)||void 0===r?void 0:r.toString())," / ").concat((0,M.Xf)(null===(i=e.tokenTwoSymbol)||void 0===i?void 0:i.toString())):"Others",color:u===t?"#78F33F":A.COLORSdataChart[t]},"e.votes"+t)})):(0,s.jsx)(s.Fragment,{})})]})]})};var Z=function(e){var t=(0,T.CG)((function(e){return e.epoch.selectedEpoch})),o=(0,T.CG)((function(e){return e.veNFT.selectedDropDown})),n=(0,T.CG)((function(e){return e.epoch.epochData}));return e.show?(0,s.jsx)(P.H,{onhide:function(){e.setShow(!1)},className:"rounded-3xl w-[400px] max-w-[400px]",children:(0,s.jsx)(R,{show:e.show,setShow:e.setShow,castVoteOperation:e.castVoteOperation,selectedDropDown:o,epochData:n,alreadyVoted:e.alreadyVoted,epochNumber:t?t.epochNumber:0})}):null},_=o(85518),q=o(34211),Y={src:"/_next/static/media/lock.523862c6.svg",height:20,width:20},G=o(31467),H=o(81870),W=o(26038);var $=function(e){var t=(0,T.CG)((function(e){return e.config.tokens})),o=(0,T.CG)((function(e){return e.epoch.currentEpoch})),n=(0,d.useMemo)((function(){var e=new Date(o.endTimestamp);return"".concat(("0"+e.getUTCDate()).slice(-2),"/").concat(("0"+(e.getUTCMonth()+1)).slice(-2),"/").concat(e.getUTCFullYear(),", ").concat(("0"+e.getUTCHours()).slice(-2),":").concat(("0"+e.getUTCMinutes()).slice(-2))}),[o.endTimestamp]);return e.show?(0,s.jsx)(P.H,{onhide:function(){e.setShow(!1)},className:"w-[400px] max-w-[400px] md:w-[602px] md:max-w-[602px]",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"cursor-pointer",onClick:function(){return e.setShow(!1)},children:(0,s.jsx)(c(),{alt:"alt",src:q.Z})}),(0,s.jsx)("div",{className:"mx-2 text-white font-title3",children:"Cast vote "})]}),(0,s.jsxs)("div",{className:"border bg-card-200 mt-2 border-text-800 rounded-2xl pt-[22px] pb-[20px]",children:[(0,s.jsx)("div",{className:"text-text-50 font-body4 px-3 md:px-5",children:"Your voting power"}),(0,s.jsxs)("div",{className:"flex mt-1 mb-3 px-3 md:px-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"font-title2 text-white",children:[e.totalVotingPower,"%"]}),(0,s.jsx)("span",{className:"font-body1 text-text-250 ml-1",children:"distributed between"})]}),(0,s.jsxs)("div",{className:"ml-auto bg-text-800/[0.5] relative -top-[9px] rounded-lg flex items-center h-[36px] px-2",children:[(0,s.jsx)(c(),{alt:"alt",src:Y}),(0,s.jsxs)("span",{className:"font-body4 text-white",children:[Number(e.selectedDropDown.votingPower).toFixed(3)," /"]}),(0,s.jsxs)("span",{className:"font-body4 text-text-500 ml-px",children:["#",e.selectedDropDown.tokenId]})]})]}),e.selectedPools.map((function(e,o){var n,r;return(0,s.jsxs)("div",{className:"flex h-[50px] items-center border-t border-b border-text-800/[0.5] bg-card-500 px-3 md:px-5",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"flex",children:[(0,s.jsx)("div",{className:"bg-card-600 rounded-full w-[28px] h-[28px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:W.N[e.tokenA]?W.N[e.tokenA].src:(null===(n=t[e.tokenA])||void 0===n?void 0:n.iconUrl)?t[e.tokenA].iconUrl:"/assets/Tokens/fallback.png",width:"24px",height:"24px",onError:M.hj})}),(0,s.jsx)("div",{className:"w-[28px] relative -left-2 bg-card-600 rounded-full h-[28px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:W.N[e.tokenB]?W.N[e.tokenB].src:(null===(r=t[e.tokenB])||void 0===r?void 0:r.iconUrl)?t[e.tokenB].iconUrl:"/assets/Tokens/fallback.png",width:"24px",height:"24px",onError:M.hj})})]}),(0,s.jsxs)("span",{className:"text-white font-body4 relative top-[1px]",children:[e.tokenA,"/",e.tokenB]})]}),(0,s.jsxs)("div",{className:"ml-auto font-body4 text-white",children:[e.votingPower,"%"]})]},o)})),(0,s.jsxs)("div",{className:"mt-5 pl-3 md:pl-5 md:flex items-center",children:[(0,s.jsx)("span",{className:"text-text-250 font-body2 mr-1",children:"You can claim your rewards after"}),(0,s.jsxs)("span",{className:"hidden md:block",children:[(0,s.jsx)(k.eE,{position:_.tq?k.Ly.right:k.Ly.top,toolTipChild:(0,s.jsx)("div",{className:"w-[200px] md:w-[220px]",children:"Rewards are available at the end of the current epoch."}),children:(0,s.jsx)("span",{className:"relative top-0.5",children:(0,s.jsx)(c(),{alt:"alt",src:G.Z,className:"cursor-pointer"})})}),(0,s.jsxs)("span",{className:"text-white ml-1 font-subtitle2 ",children:[n," UTC"]})]}),(0,s.jsx)("span",{className:"block md:hidden",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(k.eE,{position:_.tq?k.Ly.right:k.Ly.top,toolTipChild:(0,s.jsx)("div",{className:"w-[200px] md:w-[220px]",children:"Rewards are available at the end of the current epoch."}),children:(0,s.jsx)("span",{className:"relative top-0.5",children:(0,s.jsx)(c(),{alt:"alt",src:G.Z,className:"cursor-pointer"})})}),(0,s.jsxs)("span",{className:"text-white ml-1 font-subtitle2 ",children:[n," UTC"]})]})})]})]}),(0,s.jsx)("div",{className:"mt-[18px]",children:(0,s.jsx)(H.Z,{color:"primary",onClick:e.onClick,children:"Confirm vote"})})]})}):null},z=o(66738);var J=function(e){return e.show?(0,s.jsx)(P.H,{onhide:function(){e.setShow(!1)},className:"w-[400px] max-w-[400px] md:w-[460px] md:max-w-[460px]",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"font-subtitle5 text-text-400 mt-2",children:["You are not on the current EPOCH."," "]}),(0,s.jsx)("div",{className:"text-white font-subtitle4 mt-5",children:"CHANGE YOUR EPOCH TO CURRENT TO START VOTING"}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(H.Z,{color:"primary",onClick:e.onClick,children:"CHANGE TO CURRENT EPOCH"})})]})}):null},K=o(42592),Q=o(24759),ee=o(92197);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function oe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ne(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){oe(e,t,o[t])}))}return e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e){var t=function(e){var t=(0,x.I0)();return(0,s.jsx)(k.eE,{id:"tooltipM",disable:e.lockState!==p.j.DISABLED,position:k.Ly.top,toolTipChild:(0,s.jsx)("div",{className:"w-[100px] md:w-[250px]",children:"New locks are required to wait until the end of the present epoch to vote."}),children:(0,s.jsxs)("div",{onClick:e.veNFT?function(){t((0,Q.T$)({votingPower:e.lockState===p.j.CONSUMED?Number(e.veNFTObj.nextEpochVotingPower).toFixed(3):e.votingPower,tokenId:e.tokenId})),t((0,Q.Dv)(!1)),e.onClick({votingPower:e.lockState===p.j.CONSUMED?Number(e.veNFTObj.nextEpochVotingPower).toFixed(3):e.votingPower,tokenId:e.tokenId}),m(!1)}:function(){},className:(0,l.default)("cursor-pointer  hover:bg-muted-500 px-4 flex items-center h-[36px]  flex py-2.5",e.veNFT?"cursor-pointer":"cursor-not-allowed"),children:[(0,s.jsx)(c(),{alt:"alt",src:K.Z}),(0,s.jsxs)("span",{className:(0,l.default)("ml-1 font-body4 ",e.lockState===p.j.AVAILABLE?"text-white":"text-text-800",e.lockState===p.j.CONSUMED||e.lockState===p.j.DISABLED?"flex":""),children:[e.lockState===p.j.CONSUMED?Number(e.veNFTObj.nextEpochVotingPower).toFixed(3):Number(e.votingPower)>0?Number(e.votingPower)<.001?"< ".concat(Number(e.votingPower).toFixed(3)):Number(e.votingPower).toFixed(3):"0",(e.lockState===p.j.CONSUMED||e.lockState===p.j.DISABLED)&&(0,s.jsx)("span",{className:"ml-[6px]",children:(0,s.jsx)(ee.Z,{violet:100-i,transparent:i})})]}),(0,s.jsxs)("span",{className:(0,l.default)("ml-auto font-body3",e.veNFT?"text-text-500":"text-text-800"),children:["#",e.tokenId]})]})})},o=(0,T.CG)((function(e){return e.epoch.currentEpoch})),n=o?o.endTimestamp-o.startTimestamp:0,r=o?o.endTimestamp-(new Date).getTime():0,i=0===n||0===r?0:100*r/n,a=re(d.useState(!1),2),u=a[0],m=a[1],f=d.useRef(null);(0,E.O)(f,(function(){m(!1)}));var h=e.Options.some((function(e){return e.locksState===p.j.EXPIRED}));return(0,s.jsxs)("div",{className:"relative w-[150px] md:min-w-[200px] md:w-[170px] ".concat(e.className),ref:f,children:[(0,s.jsxs)("div",ne({className:(0,l.default)("bg-text-800/[0.25]   flex gap-1 md:gap-2 md:gap-4 py-3 md:py-2 px-2 md:px-3 justify-between border hover:border-text-700 rounded-lg",0===e.Options.length?"border-border-200 bg-card-200 hover:bg-card-200 hover:border-border-200":u?"border-muted-50 bg-muted-500 hover:border-muted-50 hover:bg-muted-500":""===e.selectedText.votingPower?"border-[0.8px] border-primary-500 bg-card-500 text-text-400":"border-text-800 bg-text-800/[0.25]",0===e.Options.length?"cursor-not-allowed":"cursor-pointer")},0===e.Options.length?{}:{onClick:function(){return m(!u)}},{children:[(0,s.jsx)("p",{className:(0,l.default)(" flex gap-1",u&&"text-text-500",0===e.Options.length?"text-text-700":""===e.selectedText.votingPower?"text-text-600":"text-text-500"),children:""!==e.selectedText.votingPower&&""!==e.selectedText.tokenId?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{alt:"alt",src:K.Z}),(0,s.jsx)("span",{className:"ml-1 font-body4 text-white",children:Number(e.selectedText.votingPower)>0?Number(e.selectedText.votingPower)<.001?"<0.001":Number(e.selectedText.votingPower).toFixed(3):"0"}),(0,s.jsxs)("span",{className:"font-body3 text-text-500",children:["(#",e.selectedText.tokenId,")"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:(0,l.default)("hidden md:block  md:font-body4"),children:e.title})," ",(0,s.jsx)("span",{className:"block md:hidden font-subtitle1 md:font-body4",children:"Select your veNFT"})]})}),(0,s.jsx)(c(),{src:V.Z,width:"12px",height:"12px",className:u?"rotate-0":"rotate-180"})]})),u&&e.Options.length>0&&(0,s.jsxs)("div",{className:(0,l.default)("absolute  max-h-[210px] overflow-y-auto z-20 w-[150px] min-w-[180px] md:w-[200px] mt-2 py-2 w-full bg-card-500 border-border-500 border rounded-lg flex flex-col gap-1"),children:[e.Options.map((function(o,n){return o.locksState!==p.j.EXPIRED&&(0,s.jsx)(t,{onClick:e.onClick,votingPower:o.locksState===p.j.DISABLED?o.nextEpochVotingPower.toString():o.votingPower.toString(),tokenId:o.tokenId.toString(),veNFT:o.locksState===p.j.AVAILABLE||o.locksState===p.j.CONSUMED,lockState:o.locksState,veNFTObj:o},"".concat(o.tokenId,"_").concat(n))})),h&&(0,s.jsx)("span",{className:"text-text-250 px-4 font-f11",children:"Expired"}),e.Options.map((function(o,n){return o.locksState===p.j.EXPIRED&&(0,s.jsx)(t,{onClick:e.onClick,votingPower:o.votingPower.toString(),tokenId:o.tokenId.toString(),veNFT:!1,lockState:o.locksState,veNFTObj:o},"".concat(o.tokenId,"_").concat(n))}))]})]})}var ie=function(e){return(0,s.jsxs)("div",{className:"md:flex md:items-center mr-3",children:[(0,s.jsx)("div",{className:"hidden md:block text-white font-body1 px-[23px]",children:"Select your veNFT:"}),(0,s.jsx)("div",{children:(0,s.jsx)(se,{title:e.isfetching?"loading...":0===e.veNFTlist.length?"No veNFT available":"No veNFTs selected",Options:e.veNFTlist,isFetching:e.isfetching,selectedText:e.selectedText,onClick:e.setSelectedDropDown})})]})},le=o(43501),ae=o(98764),ce=o(83164),de=o(94398),ue={src:"/_next/static/media/plus-disable.1dea1590.svg",height:18,width:19},me={src:"/_next/static/media/minus-disable.3cb02546.svg",height:18,width:19},xe={src:"/_next/static/media/plus.4de52e3a.svg",height:18,width:19},fe={src:"/_next/static/media/minus.a1b78b6b.svg",height:18,width:19},he=o(63139);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function ve(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function be(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){ve(e,t,o[t])}))}return e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e){var t=ge(d.useState(e.totalVotes1[e.index]),2),o=t[0],n=t[1];d.useEffect((function(){n(e.totalVotes1[e.index])}),[e.totalVotes1[e.index]]);var r=function(t,o){var r=0;e.totalVotes1.forEach((function(e,o){o!==t&&(r+=e)})),o&&!isNaN(parseInt(o))?parseInt(o)>=0&&parseInt(o)<=100&&r+Number(o)<=100&&(e.totalVotes1[t]=parseInt(o),n(parseInt(o))):(e.totalVotes1[t]=0,n(0))},a=function(t,o){var r=e.totalVotes1[o];e.totalVotingPower<100&&t&&e.totalVotingPower+1<=100?(e.totalVotes1[o]=r+1<=100?r+1:100,n((function(e){return e+1<=100?e+1:100}))):e.totalVotingPower<=100&&!t&&(e.totalVotes1[o]=r-1>0?(r-1)%100:0,n((function(e){return e-1>0?(e-1)%100:0})))};return d.useEffect((function(){if(o>=0){var t=!0;e.selectedPools.forEach((function(n,r){n.tokenA===e.tokenA&&n.tokenB===e.tokenB&&(0===o?e.selectedPools.splice(r,1):(n.votingPower=Number(o.toFixed(0)),t=!1))})),e.votes.forEach((function(t,n){t.amm===e.amm&&(0===o?e.votes.splice(n,1):t.votes=new i.O(o.toFixed(0)).multipliedBy(e.selectedDropDown.votingPower).dividedBy(100).multipliedBy(he.yv).decimalPlaces(0,1))})),t&&o>0&&(e.setSelectedPools(e.selectedPools.concat({tokenA:e.tokenA,tokenB:e.tokenB,votingPower:Number(o.toFixed(0))})),e.setVotes(e.votes.concat({amm:e.amm,votes:new i.O(o.toFixed(0)).multipliedBy(e.selectedDropDown.votingPower).dividedBy(100).multipliedBy(he.yv).decimalPlaces(0,1)})))}e.totalVotes1[e.index]=o;var n=0;e.selectedPools.forEach((function(e){return n+=e.votingPower})),e.setTotalVotingPower(n)}),[o]),d.useEffect((function(){var t=0;e.selectedPools.forEach((function(e){return t+=e.votingPower})),e.setTotalVotingPower(t)}),[e.selectedPools.toString()]),(0,s.jsxs)("div",{className:"flex gap-3",children:[!e.isMobile&&(0,s.jsxs)("div",{className:"flex items-center gap-[7.5px]",children:[(0,s.jsx)(c(),{src:e.isDisabled?me:fe,className:(0,l.default)(e.isDisabled?"cursor-not-allowed":"cursor-pointer"),onClick:function(){return e.isDisabled?function(){}:a(!1,e.index)}}),(0,s.jsx)(de.Range,{step:1,min:0,disabled:e.isDisabled,max:100,values:[o],onChange:function(t){return e.isDisabled?function(){}:r(e.index,t[0].toString())},renderTrack:function(e){var t=e.props,n=e.children;return(0,s.jsx)("div",be({},t,{className:"flex-1 relative w-[100px] h-[2px] bg-text-255",style:{borderRadius:"4px",background:(0,de.getTrackBackground)({values:[o],colors:["#7E4ACC","#D8DAEB"],min:0,max:100})},children:n}))},renderThumb:function(e){var t=e.props;return(0,s.jsx)("div",be({},t,{className:(0,l.default)("bg-primary-red h-3 w-3 outline-none rounded-full border-2 border-white")}))}}),(0,s.jsx)(c(),{src:e.isDisabled?ue:xe,className:(0,l.default)(e.isDisabled?"cursor-not-allowed":"cursor-pointer"),onClick:function(){return e.isDisabled?function(){}:a(!0,e.index)}})]}),(0,s.jsxs)("div",{className:(0,l.default)("bg-primary-red/10 flex   text-f12 py-[9px] text-center h-[38px] w-[48px] rounded-lg px-[9px]",e.totalVotes1[e.index]>0?"border border-primary-500 ":""),children:[(0,s.jsx)("input",{className:"slider-input bg-primary-red/[0.0] w-[19px] outline-none text-center text-f12 ",value:e.totalVotes1[e.index]?e.totalVotes1[e.index]:"",onChange:function(t){return e.isDisabled?function(){}:r(e.index,t.target.value)},placeholder:"0",disabled:e.isDisabled}),"%"]})]})}function Ne(e){return(0,s.jsx)("div",{className:"",children:(0,s.jsx)(we,{isMobile:e.isMobile,tokenA:e.tokenA,tokenB:e.tokenB,setSelectedPools:e.setSelectedPools,selectedPools:e.selectedPools,setTotalVotingPower:e.setTotalVotingPower,totalVotingPower:e.totalVotingPower,amm:e.amm,setVotes:e.setVotes,votes:e.votes,isDisabled:!(0!==Number(e.selectedDropDown.votingPower)&&e.isCurrentEpoch&&(!e.isCurrentEpoch||100!==e.sumOfVotes)),totalVotesPercentage:e.totalVotesPercentage,selectedDropDown:e.selectedDropDown,index:e.index,votedata:e.votedata,totalVotes1:e.totalVotes1})})}function je(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(k.eE,{position:k.Ly.top,disable:0===Number(e.myVotes),toolTipChild:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("div",{className:"text-text-50 font-body1",children:"My votes:"}),(0,s.jsx)("div",{className:"text-white font-caption2 ",children:e.myVotes.toFixed(6)})]}),children:(0,s.jsxs)("div",{className:"flex-1 text-end cursor-pointer flex-col justify-center items-center",children:[(0,s.jsx)("div",{className:" ",children:(0,s.jsx)("span",{className:"font-f13",children:Number(e.myVotes)>0?e.myVotes.isLessThan(.01)?"<0.01":(0,M.ZP)(e.myVotes):"-"})}),(0,s.jsx)("div",{className:" ",children:(0,s.jsxs)("span",{className:"font-f13",children:[e.myVotesPercentage.toNumber()>0?e.myVotesPercentage.decimalPlaces(2,5).toString():null,e.myVotesPercentage.toNumber()>0?"%":null]})})]})})})}var ye=o(83891),ke=o(64646);function Se(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex flex-col items-end",children:(0,s.jsxs)(k.eE,{position:k.Ly.top,toolTipChild:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-text-200 font-body3 text-right",children:"Breakdown of bribes"}),e.bribesData.length?e.bribesData.map((function(e,t){return(0,s.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1 mt-1 justify-end ",children:[(0,s.jsx)("div",{className:"text-white font-medium pr-1 ",children:null===e||void 0===e?void 0:e.value.toString()}),(0,s.jsx)("div",{className:"",children:null===e||void 0===e?void 0:e.name})]},t)})):(0,s.jsx)("div",{className:"text-white text-f14 font-normal flex gap-1 mt-1 justify-end ",children:"--"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-text-200 font-body3 text-right",children:"Breakdown of fees"}),(0,s.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1 mt-1 justify-end",children:[(0,s.jsx)("div",{className:"text-white font-medium pr-1 ",children:e.fees1.toFixed(2)}),(0,s.jsx)("div",{className:"",children:e.token1Name})]}),(0,s.jsxs)("div",{className:"text-text-500 text-f14 font-normal flex gap-1 justify-end",children:[(0,s.jsx)("div",{className:"text-white font-medium pr-1",children:e.fees2.toFixed(2)}),(0,s.jsx)("div",{className:"",children:e.token2Name})]})]})]}),children:[(0,s.jsxs)("div",{className:"cursor-pointer text-right",children:[(0,s.jsxs)("span",{className:"font-f13",children:["$",Number(e.bribes)>0?e.bribes.isLessThan(.01)?"<0.01":(0,M.ZP)(e.bribes):"0.00"]}),(0,s.jsx)("span",{className:"relative top-1 ml-px",children:(0,s.jsx)(c(),{alt:"alt",src:ke.Z,width:"16px",height:"16px"})})]}),(0,s.jsxs)("div",{className:"text-right ",children:[(0,s.jsxs)("span",{className:"font-f13",children:["$",e.fees.toFixed(2)]}),(0,s.jsx)("span",{className:"relative top-1 ml-px",children:(0,s.jsx)(c(),{alt:"alt",src:ye.Z,width:"16px",height:"16px"})})]})]})})})}function Te(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(k.eE,{position:k.Ly.top,toolTipChild:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("div",{className:"text-text-50 font-body1",children:"Total votes:"}),(0,s.jsx)("div",{className:"text-white font-caption2 ",children:e.totalvotes.toFixed(6)})]}),children:(0,s.jsxs)("div",{className:"flex-1 cursor-pointer text-right justify-center items-center",children:[(0,s.jsx)("div",{className:"font-f13 text-text-50",children:Number(e.totalvotes)>0?e.totalvotes.isLessThan(.01)?"<0.01":(0,M.ZP)(e.totalvotes):"0"}),(0,s.jsxs)("div",{className:"font-subtitle4 relative top-[10px]",children:[e.totalVotesPercentage.decimalPlaces(2,5).toString(),"%"]})]})})})}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e){var t=(0,le.N)().valueFormat,o=(0,T.CG)((function(e){return e.config.tokens})),n=Object.entries(e.voteData),r=Ce(d.useState(new Array(n.length).fill(0)),2),i=r[0],l=(r[1],Ce(d.useState(!1),2)),a=l[0],c=l[1],u=d.useMemo((function(){return n.map((function(e,t){i[t]=Number(e[1].myVotesPercentage.toFixed(0))})),n.map((function(e,t){return{index:t,amm:e[0],votes:e[1]}}))}),[n.length]),m=Ce(d.useState(u),2),x=m[0],f=m[1];d.useEffect((function(){0!==u.length?f(u):f([])}),[u.length]),d.useEffect((function(){if(e.searchValue&&e.searchValue.length){var t=u.filter((function(t){return t.votes.tokenA.toLowerCase().includes(e.searchValue.trim().toLowerCase())||t.votes.tokenB.toLowerCase().includes(e.searchValue.trim().toLowerCase())||"xtz"===e.searchValue.toLowerCase()&&t.votes.tokenA.toLowerCase().search(/\btez\b/)>=0||"xtz"===e.searchValue.toLowerCase()&&t.votes.tokenB.toLowerCase().search(/\btez\b/)>=0}));0===t.length?c(!0):c(!1),f(t)}else c(!1),f(u)}),[e.searchValue]);var h=d.useMemo((function(){return[{Header:"Pools",id:"pools",columnWidth:"w-[150px]",showOnMobile:!0,canShort:!0,sortType:function(e,t){return(0,ae.aS)(e,t,"votes.tokenA",!0)},accessor:function(e){var t,n,r,i,l,a,c,d;return(0,s.jsxs)("div",{className:" flex justify-center items-center",children:[(0,s.jsx)("div",{className:"bg-card-600 rounded-full w-[24px] h-[24px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:"CTEZ"===(0,M.Xf)(e.votes.tokenA)?W.N[e.votes.tokenB]?W.N[e.votes.tokenB].src:(null===(t=o[e.votes.tokenB])||void 0===t?void 0:t.iconUrl)?o[e.votes.tokenB].iconUrl:"/assets/Tokens/fallback.png":W.N[e.votes.tokenA]?W.N[e.votes.tokenA].src:(null===(n=o[e.votes.tokenA])||void 0===n?void 0:n.iconUrl)?o[e.votes.tokenA].iconUrl:"/assets/Tokens/fallback.png",width:"20px",height:"20px",onError:M.hj})}),(0,s.jsx)("div",{className:"w-[24px] relative -left-2 bg-card-600 rounded-full h-[24px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:"CTEZ"===(0,M.Xf)(e.votes.tokenA)?W.N[e.votes.tokenA]?W.N[e.votes.tokenA].src:(null===(r=o[e.votes.tokenA])||void 0===r?void 0:r.iconUrl)?o[e.votes.tokenA].iconUrl:"/assets/Tokens/fallback.png":W.N[e.votes.tokenB]?W.N[e.votes.tokenB].src:(null===(i=o[e.votes.tokenB])||void 0===i?void 0:i.iconUrl)?o[e.votes.tokenB].iconUrl:"/assets/Tokens/fallback.png",width:"20px",height:"20px",onError:M.hj})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-body2 md:font-body4",children:[" ","CTEZ"===(0,M.Xf)(e.votes.tokenA)?" ".concat((0,M.Xf)(null===(l=e.votes.tokenB)||void 0===l?void 0:l.toString())," / ").concat((0,M.Xf)(null===(a=e.votes.tokenA)||void 0===a?void 0:a.toString())):" ".concat((0,M.Xf)(null===(c=e.votes.tokenA)||void 0===c?void 0:c.toString())," / ").concat((0,M.Xf)(null===(d=e.votes.tokenB)||void 0===d?void 0:d.toString()))]}),(0,s.jsxs)("div",{className:"font-subtitle1 text-text-500",children:[e.votes.poolType," Pool"]})]})]})}},{Header:"Rewards",id:"Rewards",columnWidth:"w-[130px] flex-1 pr-2.5",isToolTipEnabled:!0,tooltipMessage:"Trading fees and bribes to be distributed across the voters of this pool. The reward may increase as the epoch progresses.",canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,ae.gb)(e,t,"votes.bribes","votes.fees")},accessor:function(e){return(0,s.jsx)(Se,{bribes:e.votes.bribes,fees:e.votes.fees,token1Name:(0,M.Xf)(e.votes.tokenA.toString()),token2Name:(0,M.Xf)(e.votes.tokenB.toString()),fees1:Number(e.votes.feesTokenA),fees2:Number(e.votes.feesTokenB),bribesData:e.votes.bribesData})}},{Header:"Votes",id:"Myvotess",sortType:function(e,t){return(0,ae.aS)(e,t,"votes.totalVotes")},columnWidth:"w-[100px] ml-auto mr-2",canShort:!0,accessor:function(t){return(0,s.jsx)(Ne,{isMobile:!0,tokenA:(0,M.Xf)(t.votes.tokenA.toString()),tokenB:(0,M.Xf)(t.votes.tokenB.toString()),setSelectedPools:e.setSelectedPools,selectedPools:e.selectedPools,setTotalVotingPower:e.setTotalVotingPower,totalVotingPower:e.totalVotingPower,amm:t.amm,setVotes:e.setVotes,votes:e.votes,selectedDropDown:e.selectedDropDown,totalVotesPercentage:Number(t.votes.myVotesPercentage),isCurrentEpoch:e.isCurrentEpoch,index:t.index,votedata:x,totalVotes1:i,sumOfVotes:e.sumOfVotes})}}]}),[t]),p=d.useMemo((function(){return[{Header:"Pools",id:"pools",showOnMobile:!0,columnWidth:"w-[190px]",canShort:!0,sortType:function(e,t){return(0,ae.aS)(e,t,"votes.tokenA",!0)},accessor:function(e){var t,n,r,i,l,a,c,d;return(0,s.jsxs)("div",{className:" flex justify-center items-center",children:[(0,s.jsx)("div",{className:"bg-card-600 rounded-full w-[28px] h-[28px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:"CTEZ"===(0,M.Xf)(e.votes.tokenA)?W.N[e.votes.tokenB]?W.N[e.votes.tokenB].src:(null===(t=o[e.votes.tokenB])||void 0===t?void 0:t.iconUrl)?o[e.votes.tokenB].iconUrl:"/assets/Tokens/fallback.png":W.N[e.votes.tokenA]?W.N[e.votes.tokenA].src:(null===(n=o[e.votes.tokenA])||void 0===n?void 0:n.iconUrl)?o[e.votes.tokenA].iconUrl:"/assets/Tokens/fallback.png",width:"24px",height:"24px",onError:M.hj})}),(0,s.jsx)("div",{className:"w-[28px] relative -left-2 bg-card-600 rounded-full h-[28px] flex justify-center items-center",children:(0,s.jsx)("img",{alt:"alt",src:"CTEZ"===(0,M.Xf)(e.votes.tokenA)?W.N[e.votes.tokenA]?W.N[e.votes.tokenA].src:(null===(r=o[e.votes.tokenA])||void 0===r?void 0:r.iconUrl)?o[e.votes.tokenA].iconUrl:"/assets/Tokens/fallback.png":W.N[e.votes.tokenB]?W.N[e.votes.tokenB].src:(null===(i=o[e.votes.tokenB])||void 0===i?void 0:i.iconUrl)?o[e.votes.tokenB].iconUrl:"/assets/Tokens/fallback.png",width:"24px",height:"24px",onError:M.hj})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-body4",children:[" ","CTEZ"===(0,M.Xf)(e.votes.tokenA)?" ".concat((0,M.Xf)(null===(l=e.votes.tokenB)||void 0===l?void 0:l.toString())," / ").concat((0,M.Xf)(null===(a=e.votes.tokenA)||void 0===a?void 0:a.toString())):" ".concat((0,M.Xf)(null===(c=e.votes.tokenA)||void 0===c?void 0:c.toString())," / ").concat((0,M.Xf)(null===(d=e.votes.tokenB)||void 0===d?void 0:d.toString()))]}),(0,s.jsxs)("div",{className:"font-subtitle1 text-text-500",children:[e.votes.poolType," Pool"]})]})]})}},{Header:"Rewards",id:"Rewards",columnWidth:"w-[112px]",tooltipMessage:"Trading fees and bribes to be distributed across the voters of this pool. The reward may increase as the epoch progresses.",isToolTipEnabled:!0,canShort:!0,showOnMobile:!0,sortType:function(e,t){return(0,ae.gb)(e,t,"votes.bribes","votes.fees")},accessor:function(e){return(0,s.jsx)(Se,{bribes:e.votes.bribes,fees:e.votes.fees,token1Name:(0,M.Xf)(e.votes.tokenA.toString()),token2Name:(0,M.Xf)(e.votes.tokenB.toString()),fees1:Number(e.votes.feesTokenA),fees2:Number(e.votes.feesTokenB),bribesData:e.votes.bribesData})}},{Header:"Total votes",id:"Total votes",columnWidth:"w-[112px]",canShort:!0,tooltipMessage:"Total votes received by the pool in the current epoch.",isToolTipEnabled:!0,sortType:function(e,t){return(0,ae.aS)(e,t,"votes.totalVotesPercentage")},accessor:function(e){return(0,s.jsx)(Te,{totalvotes:e.votes.totalVotes,totalVotesPercentage:e.votes.totalVotesPercentage})}},{Header:"My votes",id:"Myvotes",columnWidth:"w-[112px] pr-2.5",tooltipMessage:"Number of votes given through the selected veNFT to this pool.",isToolTipEnabled:!0,sortType:function(e,t){return(0,ae.aS)(e,t,"votes.myVotesPercentage")},canShort:!0,accessor:function(e){return(0,s.jsx)(je,{myVotes:e.votes.myVotes,myVotesPercentage:e.votes.myVotesPercentage})}},{Header:"Votes",id:"Myvotess",columnWidth:"w-[237px] ml-auto",canShort:!0,sortType:function(e,t){return(0,ae.aS)(e,t,"votes.totalVotes")},accessor:function(t){return(0,s.jsx)(Ne,{isMobile:!1,tokenA:(0,M.Xf)(t.votes.tokenA.toString()),tokenB:(0,M.Xf)(t.votes.tokenB.toString()),setSelectedPools:e.setSelectedPools,selectedPools:e.selectedPools,setTotalVotingPower:e.setTotalVotingPower,totalVotingPower:e.totalVotingPower,amm:t.amm,votes:e.votes,setVotes:e.setVotes,selectedDropDown:e.selectedDropDown,totalVotesPercentage:Number(t.votes.myVotesPercentage),isCurrentEpoch:e.isCurrentEpoch,index:t.index,votedata:x,totalVotes1:i,sumOfVotes:e.sumOfVotes})}}]}),[t]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"overflow-x-auto inner ".concat(e.className),children:(0,s.jsx)(ce.Z,{columns:_.Em?p:_.tq?h:p,data:x,noSearchResult:a,shortby:"Rewards",tableType:!0,isFetched:!(!a&&0===x.length),isConnectWalletRequired:e.isConnectWalletRequired,isVotesTable:!0,TableName:"votesTable",TableWidth:"md:min-w-[805px]"})})})}var Ae=o(67445),Ve=o(52767),Ee=o(55942),Ie=o(60299),Oe=o(75528),Fe=o(12619),Le=o(37837),Be=o(93213),Me=o(8292),Ue=o(23581),Xe=o(9133);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function Ze(e,t,o,n,r,s,i){try{var l=e[s](i),a=l.value}catch(c){return void o(c)}l.done?t(a):Promise.resolve(a).then(n,r)}function _e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function qe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){_e(e,t,o[t])}))}return e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Re(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(){var e=(0,x.I0)(),t=(0,T.CG)((function(e){return e.epoch.currentEpoch})),o=(0,T.CG)((function(e){return e.epoch.epochData})),n=(0,T.CG)((function(e){return e.epoch.selectedEpoch})),a=(0,T.CG)((function(e){return e.wallet.address})),P=(0,T.CG)((function(e){return e.config.tokens})),C=(0,T.CG)((function(e){return e.tokenPrice.tokenPrice})),D=(0,d.useState)({data:[],isfetching:!0}),A=D[0],V=D[1],E=(0,d.useState)(""),I=E[0],O=E[1],F=(0,d.useState)({selected:0,lockingDate:0}),L=F[0],B=F[1],U=(0,d.useState)(0),X=U[0],_=U[1],q=(0,d.useState)(!1),Y=q[0],G=q[1],H=(0,d.useState)(!1),W=H[0],K=H[1],ee=(0,d.useState)(""),te=ee[0],oe=ee[1],ne=(0,d.useState)(""),re=ne[0],se=ne[1],le=(0,d.useState)(!1),ae=le[0],ce=le[1],de=(0,d.useState)(!1),ue=de[0],me=de[1],xe=(0,d.useState)([]),fe=xe[0],he=xe[1],pe=(0,T.CG)((function(e){return e.veNFT.selectedDropDown})),ve=(0,T.CG)((function(e){return e.veNFT.isMyPortfolio})),be=(0,d.useState)(pe),ge=be[0],we=be[1],Ne=(0,d.useState)({}),je=Ne[0],ye=Ne[1],ke=(0,d.useState)([]),Se=ke[0],Te=ke[1],Pe=(0,d.useState)(!1),Ce=Pe[0],Re=Pe[1],Ge=(0,d.useState)(!1),He=Ge[0],We=Ge[1],$e=(0,d.useState)(!1),ze=$e[0],Je=$e[1],Ke=(0,d.useState)(""),Qe=Ke[0],et=Ke[1],tt=((0,T.CG)((function(e){return e.config.tokens})),(0,T.CG)((function(e){return e.config.AMMs}))),ot=(0,d.useRef)(!0),nt=(0,d.useRef)(!0),rt=(0,d.useState)(!1),st=rt[0],it=rt[1],lt=(0,d.useState)(!1),at=lt[0],ct=lt[1],dt=(0,d.useState)(!1),ut=dt[0],mt=dt[1],xt=(0,d.useState)(0),ft=xt[0],ht=xt[1],pt=(0,d.useState)(""),vt=pt[0],bt=pt[1],gt=0,wt=function(e){oe(e),G(!0)},Nt=(0,d.useState)({}),jt=Nt[0],yt=Nt[1];(0,d.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,o,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!a){e.next=8;break}return t.push((0,f.wd)(String(null===(o=P.PLY)||void 0===o?void 0:o.address),P.PLY.tokenId,P.PLY.standard,a,"PLY")),e.next=6,Promise.all(t);case 6:n=e.sent,yt((function(e){return qe({},e,n.reduce((function(e,t){return qe({},e,_e({},t.identifier,t.balance))}),{}))}));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(n,r){var s=e.apply(t,o);function i(e){Ze(s,n,r,i,l,"next",e)}function l(e){Ze(s,n,r,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[a,P,ue]);(0,d.useEffect)((function(){e((0,Me.mg)()),e((0,Oe.iE)()),e((0,Fe.jJ)()),ye({}),!Y&&Te([]),(0,h.wA)((null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber,pe.tokenId?Number(pe.tokenId):void 0,C).then((function(e){ye(e.allData)}))}),[]),(0,d.useEffect)((function(){localStorage.getItem(Ae.bl)!==a&&localStorage.setItem(Ae.bl,a)}),[]),(0,d.useEffect)((function(){(null===n||void 0===n?void 0:n.epochNumber)&&(ye({}),he([]),_(0),ht(0),gt=0,(0,h.wA)((null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber,pe.tokenId?Number(pe.tokenId):void 0,C).then((function(e){ye(e.allData),Object.entries(e.allData).map((function(e){gt+=Number(e[1].myVotesPercentage)})),ht(gt)})))}),[a,pe.tokenId,null===n||void 0===n?void 0:n.epochNumber,ge.tokenId]),(0,d.useEffect)((function(){at&&(ye({}),he([]),_(0),ht(0),gt=0,(0,h.wA)((null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber,pe.tokenId?Number(pe.tokenId):void 0,C).then((function(e){ye(e.allData),Object.entries(e.allData).map((function(e){gt+=Number(e[1].myVotesPercentage)})),ht(gt)})),a&&(0,h.aA)(a,(null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber).then((function(e){V({data:e.veNFTData,isfetching:!1})})))}),[at]),(0,d.useEffect)((function(){V({data:[],isfetching:!0}),a?(0,h.aA)(a,(null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber).then((function(e){V({data:e.veNFTData,isfetching:!1})})):V({data:[],isfetching:!1})}),[a,null===n||void 0===n?void 0:n.epochNumber,ut]),(0,d.useEffect)((function(){a&&ut&&(0,h.aA)(a,(null===n||void 0===n?void 0:n.epochNumber)?null===n||void 0===n?void 0:n.epochNumber:null===t||void 0===t?void 0:t.epochNumber).then((function(e){V({data:e.veNFTData,isfetching:!1})}))}),[ut]),(0,Ve.Y)((function(){e((0,Fe.jJ)())}),6e4);var kt=(0,T.CG)((function(e){return e.veNFT.selectedDropDownLocal}));(0,d.useEffect)((function(){var t=!1;""===pe.votingPower&&ve?e((0,Q.T$)({votingPower:kt.votingPower.toString(),tokenId:kt.tokenId.toString()})):!A.isfetching&&A.data.length>0&&""!==pe.votingPower&&!ve?(A.data.map((function(o){Number(o.tokenId)===Number(pe.tokenId)&&(t=!0,o.locksState===p.j.CONSUMED?e((0,Q.T$)({votingPower:o.nextEpochVotingPower.toString(),tokenId:o.tokenId.toString()})):e((0,Q.T$)({votingPower:o.votingPower.toString(),tokenId:o.tokenId.toString()})))})),t||e((0,Q.T$)({votingPower:A.data[0].votingPower.toString(),tokenId:A.data[0].tokenId.toString()}))):e((0,Q.T$)({votingPower:"",tokenId:""})),""===pe.votingPower&&ve&&e((0,Q.T$)({votingPower:kt.votingPower.toString(),tokenId:kt.tokenId.toString()}))}),[A.data,a]),(0,d.useEffect)((function(){ot.current?ot.current=!1:0!==Object.keys(P).length&&e((0,Be.jq)())}),[P]),(0,d.useEffect)((function(){nt.current?nt.current=!1:0!==Object.keys(C).length&&e((0,Be.GR)(C))}),[C]),(0,d.useEffect)((function(){0!==Object.keys(tt).length&&e((0,Oe.Yb)())}),[tt]);var St=function(){se(""),O(""),B({selected:0,lockingDate:0})},Tt=Ye(d.useState(!1),2),Pt=Tt[0],Ct=Tt[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.t,{children:(0,s.jsxs)("div",{className:"md:flex ",children:[(0,s.jsxs)("div",{className:"md:min-w-[416px] lg:min-w-[562px] md:w-full",children:[(0,s.jsx)(N.Z,{className:"px-2 md:px-3",title:"Vote",toolTipContent:"Watch How to lock and vote to earn fees and bribes.",handleCreateLock:function(){Je(!0)},searchValue:Qe,setSearchValue:et,isFirst:null!==a&&localStorage.getItem(Ae.bl)!==a,videoLink:"jjsL5qce3ks"}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"flex items-center px-3 md:px-0 py-2 md:py-2 ",children:[(0,s.jsx)("div",{children:(0,s.jsx)(ie,{veNFTlist:A.data,isfetching:A.isfetching,selectedText:pe,setSelectedDropDown:we})}),(0,s.jsx)("div",{className:"ml-auto ",children:(0,s.jsx)(j.L,{className:"",value:Qe.toString().trim(),onChange:et,width:"w-[180px] md:w-245px xl:w-[260px]"})})]}),(0,s.jsxs)("div",{className:"md:hidden block flex flex-row justify-between items-center px-3 md:px-0 py-2 md:py-0 border-b border-text-800/[0.5]",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"font-mobile-400 w-[134px] text-text-50",children:"Verify your vote percentage and cast vote"}),(0,s.jsxs)("div",{className:"font-subtitle1 border border-muted-50 px-5 bg-muted-300 h-[38px] flex items-center justify-center rounded-xl",children:[ft||(X||"0"),"%"]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("div",{className:"",children:st?(0,s.jsx)("div",{className:(0,l.default)("px-4   h-[38px] flex items-center justify-center rounded-xl ","cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),children:"Cast vote"}):(ft?100===ft:100===X)||(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?100===ft?(0,s.jsx)("div",{className:(0,l.default)("md:px-4  px-2  h-[38px]  flex items-center justify-center rounded-xl ","cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),children:"Already voted"}):(0,s.jsx)("div",{className:(0,l.default)("px-3  cursor-pointer  h-[38px]  flex items-center justify-center rounded-xl ",0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&100===X&&Number(pe.votingPower)>0?"cursor-pointer bg-primary-red hover:bg-primary-400 text-black font-subtitle6":"cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),onClick:function(){return 0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&100===X&&100!==ft&&Number(pe.votingPower)>0?Re(!0):(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?K(!0):function(){}},children:"Cast vote"}):(0,s.jsx)(k.eE,{message:"Percentage allocation of the veNFT\u2019s voting power. A 100% allocation is required to cast a vote.",id:"tooltip8",position:k.Ly.top,children:(0,s.jsx)("div",{className:(0,l.default)("cursor-pointer px-3  h-[38px] ] flex items-center justify-center rounded-xl ",0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&0!==X&&100===X&&Number(pe.votingPower)>0?"cursor-pointer bg-primary-red hover:bg-primary-400 text-black font-subtitle6":"cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),onClick:function(){return 0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&0!==X&&100===X&&100!==ft&&Number(pe.votingPower)>0?Re(!0):(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?K(!0):function(){}},children:"Cast vote"})})}),(0,s.jsx)("div",{onClick:function(){return We(!0)},children:(0,s.jsx)(c(),{alt:"alt",src:b,width:"24px",height:"24px"})})]})]}),Pt&&(0,s.jsxs)("div",{className:"mb-2 h-[58px] md:h-[42px] ml-4 mr-2 px-2 rounded-lg flex items-center bg-info-500/[0.1]",children:[(0,s.jsx)("p",{className:"relative top-0.5",children:(0,s.jsx)(c(),{src:m.Z})}),(0,s.jsx)("p",{className:"font-body2 text-info-500 px-3 sm:w-auto w-[249px]",children:"VeNFTs created in this epoch can only be used for voting from the next epoch"}),(0,s.jsx)("p",{className:"ml-auto relative top-[7px] cursor-pointer",onClick:function(){return Ct(!1)},children:(0,s.jsx)(c(),{src:u})})]}),(0,s.jsx)(De,{className:"md:pl-5 ",searchValue:Qe,sumOfVotes:ft,setSearchValue:et,setSelectedPools:he,selectedPools:fe,setTotalVotingPower:_,totalVotingPower:X,voteData:je,setVotes:Te,votes:Se,selectedDropDown:pe,isCurrentEpoch:!(null===n||void 0===n?void 0:n.epochNumber)||(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)})]})]}),(0,s.jsxs)("div",{className:"hidden md:block md:basis-1/3 md:pr-[25px] md:ml-3 w-[350px]",children:[(0,s.jsx)(R,{show:He,castVoteOperation:at,setShow:We,selectedDropDown:pe,epochData:o,alreadyVoted:100===ft,epochNumber:n?n.epochNumber:0}),(0,s.jsx)("div",{className:"mt-4 text-text-50 font-body3",children:"Verify your vote percentage and cast vote"}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 mt-[14px]",children:[(0,s.jsxs)("div",{className:"basis-1/4 border border-muted-50 bg-muted-300 h-[50px] flex items-center justify-center rounded-xl",children:[(0,s.jsx)("span",{className:"cursor-pointer relative top-0.5",children:(0,s.jsx)(k.eE,{id:"tooltip2",position:k.Ly.top,toolTipChild:(0,s.jsx)("div",{className:"w-[100px] md:w-[250px]",children:"Percentage allocation of the veNFT\u2019s voting power. A 100% allocation is required to cast a vote."}),children:(0,s.jsx)(c(),{alt:"alt",src:v.Z,className:"infoIcon cursor-pointer"})})}),(0,s.jsxs)("span",{className:"ml-1",children:[ft||(X||"0"),"%"]})]}),(0,s.jsx)("div",{className:"basis-3/4",children:st?(0,s.jsx)("div",{className:(0,l.default)("px-4   h-[50px] flex items-center justify-center rounded-xl ","cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),children:"Cast vote"}):(ft?100===ft:100===X)||(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?100===ft?(0,s.jsx)("div",{className:(0,l.default)("  h-[50px] flex items-center justify-center rounded-xl ","cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),children:"Already voted"}):(0,s.jsx)("div",{className:(0,l.default)("  h-[50px] flex items-center justify-center rounded-xl ",0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&100===X&&Number(pe.votingPower)>0?"cursor-pointer bg-primary-red hover:bg-primary-400 text-black font-subtitle6":"cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),onClick:function(){return 0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&100===X&&100!==ft&&Number(pe.votingPower)>0?Re(!0):(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?K(!0):function(){}},children:"Cast vote"}):(0,s.jsx)(k.eE,{message:"Cast 100% of your Votes to proceed ",id:"tooltip8",position:k.Ly.top,children:(0,s.jsx)("div",{className:(0,l.default)("  h-[50px] flex items-center justify-center rounded-xl ",0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&0!==X&&100===X&&Number(pe.votingPower)>0?"cursor-pointer bg-primary-red hover:bg-primary-400 text-black font-subtitle6":"cursor-not-allowed bg-card-700 text-text-400 font-subtitle4"),onClick:function(){return 0!==Se.length&&(null===n||void 0===n?void 0:n.epochNumber)&&(null===t||void 0===t?void 0:t.epochNumber)===(null===n||void 0===n?void 0:n.epochNumber)&&0!==X&&100===X&&100!==ft&&Number(pe.votingPower)>0?Re(!0):(null===t||void 0===t?void 0:t.epochNumber)!==(null===n||void 0===n?void 0:n.epochNumber)?K(!0):function(){}},children:"Cast vote"})})})]})]})]})}),(0,s.jsx)(Z,{show:He,setShow:We,selectedDropDown:pe,epochData:o,alreadyVoted:100===ft,epochNumber:n?n.epochNumber:0,castVoteOperation:at}),Ce&&(0,s.jsx)($,{show:Ce,setShow:Re,selectedPools:fe,totalVotingPower:X,selectedDropDown:pe,onClick:function(){bt("Casting vote"),Re(!1),ce(!0),e((0,Ue.AM)({isLoading:!0,operationSuccesful:!1})),it(!0);var t=(0,h.H3)(pe.votingPower,X,Se);localStorage.setItem(Ae.qq,pe.tokenId),(0,Ie.Ns)(Number(pe.tokenId),t,wt,St,ce,{flashType:w.Y.Info,headerText:"Transaction submitted",trailingText:"Vote with VeNFT #\n        ".concat(localStorage.getItem(Ae.qq)),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(t){t.success?(Te([]),me(!0),it(!1),setTimeout((function(){G(!1),e((0,Le.XV)({flashType:w.Y.Success,headerText:"Success",trailingText:"Vote with VeNFT #\n              ".concat(localStorage.getItem(Ae.qq)),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(Xe.lu).concat(t.operationId?t.operationId:""),"_blank")},transactionId:t.operationId?t.operationId:""}))}),6e3),setTimeout((function(){ct(!0)}),6e3),setTimeout((function(){ct(!1)}),2e4),bt(""),e((0,Ue.AM)({isLoading:!1,operationSuccesful:!0}))):(it(!1),me(!0),ce(!1),setTimeout((function(){G(!1),e((0,Le.XV)({flashType:w.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Vote with VeNFT #\n              ".concat(localStorage.getItem(Ae.qq)),linkText:"",isLoading:!0}))}),2e3),bt(""),e((0,Ue.AM)({isLoading:!1,operationSuccesful:!0})))}))}}),ze&&(0,s.jsx)(z.Z,{show:ze,setPlyInput:se,plyInput:re,setShow:function(){Je(!1),se(""),O(""),B({selected:0,lockingDate:0})},setShowConfirmTransaction:ce,showConfirmTransaction:ae,setShowTransactionSubmitModal:G,showTransactionSubmitModal:Y,setShowCreateLockModal:Je,handleLockOperation:function(){bt("Locking PLY"),Je(!1),ce(!0),e((0,Ue.AM)({isLoading:!0,operationSuccesful:!1})),localStorage.setItem(Ae.qq,(0,M.Zy)(new i.O(re)).toString()),localStorage.setItem(Ae.lo,function(e){var t=new Date(e),o=t.getMonth();return"".concat(("0"+t.getDate()).slice(-2),"-").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o],"-").concat(t.getFullYear())}(1e3*L.lockingDate)),(0,Ee.YH)(a,new i.O(re),new i.O(L.lockingDate),wt,St,ce,{flashType:w.Y.Info,headerText:"Transaction submitted",trailingText:"Lock ".concat(localStorage.getItem(Ae.qq)," PLY till ").concat(localStorage.getItem(Ae.lo)),linkText:"View in Explorer",isLoading:!0,transactionId:""}).then((function(t){t.success?(me(!0),setTimeout((function(){mt(!0),e((0,Le.XV)({flashType:w.Y.Success,headerText:"Success",trailingText:"Lock ".concat(localStorage.getItem(Ae.qq)," PLY till ").concat(localStorage.getItem(Ae.lo)),linkText:"View in Explorer",isLoading:!0,onClick:function(){window.open("".concat(Xe.lu).concat(t.operationId?t.operationId:""),"_blank")},transactionId:t.operationId?t.operationId:""}))}),6e3),setTimeout((function(){mt(!1)}),2e4),setTimeout((function(){G(!1)}),2e3),bt(""),e((0,Ue.AM)({isLoading:!1,operationSuccesful:!0}))):(me(!0),ce(!1),setTimeout((function(){G(!1),e((0,Le.XV)({flashType:w.Y.Rejected,transactionId:"",headerText:"Rejected",trailingText:"Lock ".concat(localStorage.getItem(Ae.qq)," PLY till ").concat(localStorage.getItem(Ae.lo)),linkText:"",isLoading:!0}))}),2e3),bt(""),e((0,Ue.AM)({isLoading:!1,operationSuccesful:!0})))}))},setLockingDate:O,lockingDate:I,setLockingEndData:B,lockingEndData:L,tokenPrice:C,plyBalance:new i.O(jt.PLY)}),ae&&(0,s.jsx)(g.Z,{show:ae,setShow:ce,content:vt}),Y&&(0,s.jsx)(S.Z,{show:Y,setShow:G,onBtnClick:te?function(){return window.open("".concat(Xe.lu).concat(te),"_blank")}:null,content:vt}),W&&(0,s.jsx)(J,{show:W,setShow:K,onClick:function(){e((0,Fe.vu)(t)),K(!1)}})]})}},59103:function(e,t,o){"use strict";o.d(t,{Z:function(){return f}});var n=o(85893),r=o(86010),s=o(25675),i=o.n(s),l=o(67294),a=o(77973),c=o(62210),d=o(77344),u=o(23363);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,s=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(a){l=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){(0,c.CG)((function(e){return e.wallet.address}));var t=x(l.useState(!1),2),o=t[0],s=t[1];return(0,n.jsxs)("div",{className:"".concat(e.className," flex h-[68px] justify-between items-center border-b border-b-borderCommon py-2 pt-2 md:pt-2 bg-cardBackGround"),children:[(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("div",{className:"p-2 text-f18 font-medium text-white",children:e.title?e.title:"Pools"}),(0,n.jsx)(u.eE,{classNameToolTipContainer:"playIconTooltip-right",toolTipChild:e.toolTipContent?(0,n.jsx)("p",{className:"w-[200px] md:w-[312px]",children:e.toolTipContent}):(0,n.jsx)("p",{className:"w-[200px] md:w-[312px]",children:"Watch how to add liquidity, stake, and earn PLY"}),classNameAncorToolTip:"pushtoCenter",isShowInnitially:!!e.isFirst,children:(0,n.jsx)(i(),{src:a.Z,onClick:function(){return s(!0)},height:"28px",width:"28px",className:"cursor-pointer hover:opacity-90"})})]}),o&&(0,n.jsx)(d.K,{closefn:s,linkString:e.videoLink?e.videoLink:"HtDOhje7Y5A"}),"Vote"===e.title?(0,n.jsx)("div",{className:(0,r.default)("ml-auto h-[50px] font-subtitle2 md:font-subtitle4 flex items-center px-4 md:px-[32px] text-primary-white rounded-lg bg-primary-red hover:bg-primary-red/[0.2] mr-4 md:mr-0","cursor-pointer"),onClick:e.handleCreateLock,children:"Create Lock"}):(0,n.jsx)(n.Fragment,{}),"Pools"===e.title?(0,n.jsx)("div",{className:(0,r.default)("ml-auto h-[50px] font-subtitle2 md:font-title3-bold flex items-center px-3 md:px-[32px] text-primary-white rounded-lg bg-primary-red hover:bg-primary-red/[0.2] mr-0","cursor-pointer"),onClick:e.onClick,children:"New pool"}):(0,n.jsx)(n.Fragment,{})]})}},1994:function(e,t,o){"use strict";o.r(t),o.d(t,{COLORSdataChart:function(){return m},default:function(){return x}});var n=o(85893),r=o(67294),s=o(45108),i=o(58913),l=o(34816),a=o(43815),c=o(70794),d=o(34362),u=function(e){var t=Math.PI/180,o=e.cx,r=e.cy,i=e.midAngle,l=e.innerRadius,a=e.outerRadius,u=e.startAngle,m=e.endAngle,x=e.fill,f=e.ply,h=e.value,p=e.name;Math.sin(-t*i),Math.cos(-t*i);return(0,n.jsxs)("g",{style:{zIndex:999},children:[(0,n.jsx)("text",{x:o,y:r,dy:1,textAnchor:"middle",fontWeight:400,fill:"#FFFFFF",fontSize:"14px",children:p}),(0,n.jsxs)("text",{x:o,y:r+18,dy:1,textAnchor:"middle",fontWeight:400,fill:x,fontSize:"14px",children:[(0,n.jsxs)("a",{style:{fill:"#78F33F"},children:[h.toFixed(2),"%"]})," ",(0,n.jsxs)("a",{style:{fill:"#B3B0B5"},children:["(",Number(f)>0?new c.O(f).isLessThan(.01)?"<0.01":(0,d.ZP)(new c.O(f)):"0"," ",")"]})]}),(0,n.jsx)(s.L,{cx:o,cy:r,innerRadius:l,outerRadius:a,startAngle:u,endAngle:m,fill:"#78F33F"})]})},m=["#403A47","#4E4955","#5C5863","#6B6670","#79757E","#88848C","#96939A","#A4A2A8","#B3B0B5","#E0E0E0"];function x(e){var t=e.piChartData.map((function(e){var t,o,n,r;return{name:e.tokenOneSymbol&&e.tokenTwoSymbol?"CTEZ"===(0,d.Xf)(e.tokenOneSymbol)?" ".concat((0,d.Xf)(null===(t=e.tokenTwoSymbol)||void 0===t?void 0:t.toString())," / ").concat((0,d.Xf)(null===(o=e.tokenOneSymbol)||void 0===o?void 0:o.toString())):" ".concat((0,d.Xf)(null===(n=e.tokenOneSymbol)||void 0===n?void 0:n.toString())," / ").concat((0,d.Xf)(null===(r=e.tokenTwoSymbol)||void 0===r?void 0:r.toString())):"Others",value:e.votePercentage.toNumber(),ply:e.votes}})),o=r.useCallback((function(t,o){e.setSelectedColorIndex(o)}),[e.setSelectedColorIndex]);return(0,n.jsx)("div",{className:"flex flex-col items-center",children:(0,n.jsx)(i.u,{width:252,height:252,children:(0,n.jsx)(l.b,{data:t,cx:122,cy:122,innerRadius:80,outerRadius:120,fill:"#8884d8",paddingAngle:.5,dataKey:"value",stroke:"#ff000000",activeIndex:e.selectedColorIndex,onMouseEnter:o,activeShape:(0,n.jsx)(u,{}),children:t.map((function(e,t){return(0,n.jsx)(a.b,{fill:m[t%m.length]},"cell-".concat(t))}))})})})}}},function(e){e.O(0,[4398,9774,2888,179],(function(){return t=75125,e(e.s=t);var t}));var t=e.O();_N_E=t}]);